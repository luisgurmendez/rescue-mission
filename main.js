(()=>{var t={466:function(t){var s;t.exports=((s=function(){function t(t){return n.appendChild(t.i),t}function i(t){for(var s=0;s<n.children.length;s++)n.children[s].style.display=s===t?"block":"none";e=t}var e=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(t){t.preventDefault(),i(++e%n.children.length)}),!1);var h=(performance||Date).now(),r=h,o=0,c=t(new s.t("FPS","#0ff","#002")),u=t(new s.t("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var a=t(new s.t("MB","#f08","#201"));return i(0),{h:16,i:n,o:t,u:i,l:function(){h=(performance||Date).now()},end:function(){o++;var t=(performance||Date).now();if(u.update(t-h,200),t>r+1e3&&(c.update(1e3*o/(t-r),100),r=t,o=0,a)){var s=performance.memory;a.update(s.v/1048576,s.M/1048576)}return t},update:function(){h=this.end()},_:n,p:i}}).t=function(t,s,i){var e=1/0,n=0,h=Math.round,r=h(window.devicePixelRatio||1),o=80*r,c=48*r,u=3*r,a=2*r,l=3*r,d=15*r,f=74*r,w=30*r,v=document.createElement("canvas");v.width=o,v.height=c,v.style.cssText="width:80px;height:48px";var M=v.getContext("2d");return M.font="bold "+9*r+"px Helvetica,Arial,sans-serif",M.textBaseline="top",M.fillStyle=i,M.fillRect(0,0,o,c),M.fillStyle=s,M.fillText(t,u,a),M.fillRect(l,d,f,w),M.fillStyle=i,M.globalAlpha=.9,M.fillRect(l,d,f,w),{i:v,update:function(c,_){e=Math.min(e,c),n=Math.max(n,c),M.fillStyle=i,M.globalAlpha=1,M.fillRect(0,0,o,d),M.fillStyle=s,M.fillText(h(c)+" "+t+" ("+h(e)+"-"+h(n)+")",u,a),M.drawImage(v,l+r,d,f-r,w,l,d,f-r,w),M.fillRect(l+f-r,d,r,w),M.fillStyle=i,M.globalAlpha=.9,M.fillRect(l+f-r,d,r,h((1-c/_)*w))}}},s)},478:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.m=void 0,s.m=function(t){return"object"==typeof t&&void 0!==t.O}},192:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.j=void 0,s.j=function(t){return"object"==typeof t&&void 0!==t.init}},249:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.R=void 0,s.R=function(t){return"object"==typeof t&&void 0!==t.C}},349:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.I=void 0,s.I=function(t){return"object"==typeof t&&void 0!==t.step}},971:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(327),h=e(i(854)),r=i(725);s.default=class{F(t){const s={};for(let i=0;i<t.length;i++){const e=t[i];if(r.P(e))for(let i=0;i<t.length;i++){const n=t[i];if(e!==n&&r.P(n)){this.T(e,n)&&(void 0===s[e.id]?s[e.id]=[n]:s[e.id].push(n))}}e.k(s[e.id])}return s}T(t,s){if(t.J instanceof n.B){if(s.J instanceof n.B)return o.$(t.J,s.J,t.position,s.position);if(s.J instanceof n.D)return o.L(s.J,t.J,s.position,t.position)}if(t.J instanceof n.D){if(s.J instanceof n.B)return o.L(t.J,s.J,t.position,s.position);if(s.J instanceof n.D)return o.N(s.J,t.J,s.position,t.position)}return!1}};class o{static L(t,s,i,e){const{x:n,y:h}=i,{x:r,y:o}=e,c=s.V,u=n-t.w/2,a=n+t.w/2,l=h-t.S/2,d=h+t.S/2;let f=Math.max(u,Math.min(r,a))-r,w=Math.max(l,Math.min(o,d))-o;return f*f+w*w<=c*c}static N(t,s,i,e){const n=new h.default(i.x-t.w/2,i.y+t.S/2),r=new h.default(i.x+t.w/2,i.y-t.S/2),o=new h.default(e.x-s.w/2,e.y+s.S/2),c=new h.default(e.x+s.w/2,e.y-s.S/2);return n.x!=r.x&&n.y!=r.y&&o.x!=c.x&&o.y!=c.y&&(!(n.x>=c.x||o.x>=r.x)&&!(r.y>=o.y||c.y>=n.y))}static $(t,s,i,e){return i.U(e)<=t.V+s.V}}},239:(t,s,i)=>{"use strict";Object.defineProperty(s,"g",{value:!0});const e=i(349),n=i(192),h=i(478),r=i(939);s.default=class{initialize(t){const{G:s}=t;s.forEach((s=>{n.j(s)&&s.W&&(s.init(t),s.W=!1)}))}step(t){t.G.forEach((s=>{e.I(s)&&s.step(t)}))}q(t){const{G:s}=t;r.H(s,(t=>!(h.m(t)&&t.O))).forEach((t=>{h.m(t)&&t.q&&t.q()}))}}},446:(t,s,i)=>{"use strict";Object.defineProperty(s,"g",{value:!0});const e=i(249);function n(t,s){return 0===t.children.length?s:(t.children.forEach((t=>{s.push(t),n(t,s)})),[])}s.default=class{C(t){const{K:s,X:i,G:h}=t,{canvas:r}=s,o=h.filter(e.R).filter((t=>"background"!==t.id)),c=h.find((t=>"background"===t.id)),u=[];o.forEach((t=>{if(e.R(t)){const s=t.C(),i=[];n(s,i),u.push(s),u.push(...i)}}));const a=u.filter((t=>"overlay"===t.Y)),l=u.filter((t=>"normal"===t.Y));this.Z(s),c&&this.tt(s,(()=>{c.C().C(t)})),this.tt(s,(()=>{s.translate(r.width/2,r.height/2),s.scale(i.zoom,i.zoom),s.translate(-i.position.x,-i.position.y),l.forEach((i=>{e.R(i)&&this.tt(s,(()=>{i.C(t)}))}))})),a.forEach((i=>{this.tt(s,(()=>{i.C(t)}))}))}Z(t){const s=t.canvas;t.clearRect(-1,-1,s.width+1,s.height+1)}tt(t,s){t.save(),s(),t.restore()}}},764:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=e(i(977)),h=e(i(878)),r=e(i(854)),o=i(327);class c extends n.default{constructor(){super("camera"),this.q=void 0,this.locked=!1,this.Y="overlay",this.W=!0,this.O=!1,this.st=null,this.it=null,this.et=null,this.nt=null,this.position=new r.default(0,0),this.viewport=new o.D(document.body.scrollWidth,document.body.scrollHeight),this.ht=1,this.rt=null}init(t){const{K:s}=t,i=s.canvas;this.viewport.w=i.width,this.viewport.S=i.height;let e=new r.default,n=new r.default,h=!1;const o=t=>{t.preventDefault();const s=-1*(t.clientX-(i.offsetLeft+i.width/2)),e=-1*(t.clientY-(i.offsetTop+i.height/2)),n=t.deltaY<0?1:-1,h=Math.exp(.02*n),r=this.zoom;this.zoom=this.zoom*h,r!==this.zoom&&null===this.rt&&(this.position.x+=s/(this.zoom*h)-s/this.zoom,this.position.y+=e/(this.zoom*h)-e/this.zoom)},c=t=>{if(h){this.ot();const s=n.clone().sub(new r.default(t.clientX,t.clientY));s.ct(1/this.zoom),this.position=e.clone().add(s)}},u=t=>{h=!0,e=this.position.clone(),n=new r.default(t.clientX,t.clientY)},a=t=>{h=!1},l=t=>{h=!1},d=t=>{h=!1};i.addEventListener("mousedown",u),i.addEventListener("mouseup",a),i.addEventListener("mouseover",l),i.addEventListener("mouseout",d),i.addEventListener("mousemove",c),i.addEventListener("wheel",o),this.q=()=>{i.removeEventListener("mousedown",u),i.removeEventListener("mouseup",a),i.removeEventListener("mouseover",l),i.removeEventListener("mouseout",d),i.removeEventListener("mousemove",c),i.removeEventListener("wheel",o)}}ut(t){this.rt=t}ot(){this.rt=null}at(){this.zoom+=.5}lt(){this.zoom-=.5}set zoom(t){this.ht=t,t>14&&(this.ht=14),t<.5&&(this.ht=.5)}get zoom(){return this.ht}step(t){if(null!==this.rt&&(this.position=this.rt.position.clone()),null!==this.st&&null!==this.it&&null!==this.et&&null!==this.nt){this.et-=t.dt;const s=this.st.clone().sub(this.position),i=this.nt.U(this.st)/this.it,e=s.normalize().ct(t.dt*i);this.position=this.position.add(e),this.et<0&&(this.position=this.st.clone(),this.st=null,this.et=null,this.it=null,this.nt=null)}this.ft(t.wt)}ft(t){const s=this.position.clone().x-this.viewport.w/2<-t.w/2,i=this.position.clone().x+this.viewport.w/2>t.w/2,e=this.position.clone().y-this.viewport.S/2>t.S/2,n=this.position.clone().y+this.viewport.S/2<-t.S/2;s&&(this.position.x=-t.w/2+this.viewport.w/2),i&&(this.position.x=t.w/2-this.viewport.w/2),e&&(this.position.y=t.w/2+this.viewport.S/2),n&&(this.position.y=-t.w/2-this.viewport.S/2)}C(){const t=new h.default((t=>{const{K:s,K:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`(${this.position.x.toFixed(0)},${this.position.y.toFixed(0)})`,i.width-80,20)}));return t.Y="overlay",t}vt(t,s=1){return this.rt=null,this.st=t,this.nt=this.position.clone(),this.it=s,this.et=s,new Promise((t=>{setTimeout((()=>{t()}),1e3*s)}))}}s.default=c},353:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});s.default=class{static Mt(){let t;const s=document.createElement("canvas"),i=document.getElementById("canvas-container");if(!i)throw Error("No canvas container");{const e=()=>{s.width=document.body.scrollWidth,s.height=document.body.scrollHeight,t.imageSmoothingEnabled=!1,t.translate(.5,.5)},n=s.getContext("2d");if(void 0===n)throw Error("Browser doesnt support canvas!");t=n,e(),i.appendChild(s),window.addEventListener("resize",e)}return t}}},753:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});function i(){return("undefined"==typeof performance?Date:performance).now()}s.default=class{constructor(t=!0){this._t=t,this.startTime=0,this.bt=0,this.elapsedTime=0,this.gt=!1}start(){this.startTime=i(),this.bt=this.startTime,this.elapsedTime=0,this.gt=!0}stop(){this.Ot(),this.gt=!1,this._t=!1}Ot(){return this.jt(),this.elapsedTime}jt(){let t=0;if(this._t&&!this.gt)return this.start(),0;if(this.gt){const s=i();t=(s-this.bt)/1e3,this.bt=s,this.elapsedTime+=t}return t}}},319:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=e(i(971)),h=e(i(446)),r=e(i(814)),o=e(i(753)),c=e(i(839)),u=e(i(466)),a=e(i(353)),l=i(725),d=e(i(239)),f=i(10);s.default=class{constructor(){this.xt=new r.default,this.yt=!1,this.Rt=new n.default,this.Ct=new h.default,this.It=new d.default,this.At=1,this.Ft=()=>{this.yt=!1,this.Pt.start()},this.pause=()=>{this.yt=!0,this.Pt.stop()},this.loop=t=>()=>{this.Tt.l(),t&&t(),this.yt||this.update(),requestAnimationFrame(this.loop(t)),this.Et()},this.K=a.default.Mt(),this.level=f.kt(),this.Pt=new o.default,this.xt=new r.default,this.Tt=new u.default,this.Tt.u(0),document.body.appendChild(this.Tt.i)}init(){window.addEventListener("blur",(()=>{this.xt.Jt(),this.pause()})),window.addEventListener("focus",this.Ft),window.addEventListener("keydown",(t=>{"m"===t.key&&(this.At+=1),"n"===t.key&&(this.At-=1)})),window.addEventListener("keydown",(t=>{" "===t.key&&this.level.X.ut(this.level.Bt)}))}update(){const t=this.$t();this.It.initialize(t),this.It.step(t),this.Ct.C(t),this.It.q(t)}Et(){this.Tt.end()}$t(){const t=this.level.G.filter(l.P),s=this.Rt.F(t),i=this.Pt.jt()*this.At;return new c.default(s,i,this.yt,this.level.G,this.xt,this.K,this.level.X,this.level.wt,this.pause,this.Ft)}}},839:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});s.default=class{constructor(t,s,i,e,n,h,r,o,c,u){this.zt=t,this.dt=s,this.yt=i,this.G=e,this.xt=n,this.K=h,this.X=r,this.wt=o,this.pause=c,this.Ft=u}}},866:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(327),h=e(i(764)),r=e(i(164)),o=e(i(789)),c=e(i(854));s.default=class{constructor(t,s,i=new n.D(4e3,4e3)){this.G=[];const e=new r.default;this.Bt=new o.default(new c.default,s),this.G=t,this.X=new h.default,this.wt=i,this.G.push(e,this.Bt,this.X)}init(){}q(){}}},607:function(t,s,i){"use strict";var e=this&&this.Dt||function(t,s,i,e){return new(i||(i=Promise))((function(n,h){function r(t){try{c(e.next(t))}catch(t){h(t)}}function o(t){try{c(e.Lt(t))}catch(t){h(t)}}function c(t){var s;t.done?n(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(r,o)}c((e=e.apply(t,s||[])).next())}))},n=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const h=n(i(319));!function(){e(this,void 0,void 0,(function*(){const t=new h.default;window.Nt=t,t.init();t.loop((function(){}))()}))}()},10:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.kt=void 0;const n=e(i(866)),h=e(i(473)),r=e(i(854));s.kt=function(){const t=new h.default(new r.default,3e3,100),s=new h.default(new r.default(200,-400),2e3,150),i=new h.default(new r.default(0,300),150,4);i.Vt=0,i.St=!0,i.Ut=new r.default(30,0);const e=[t,s,i],o=new n.default(e,s);return o.Bt.position=new r.default(350,400),o}},137:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.Gt=void 0;const n=e(i(854));s.Gt=function(t){return class extends t{Wt(t){const s=new n.default;return t.forEach((t=>{const i=this.qt(t);s.add(i)})),s}qt(t){const s=this.position.U(t.position);if(s<t.Vt){const i=new n.default(t.position.x-this.position.x,t.position.y-this.position.y).normalize();return i.ct(t.Ht/s),i}return new n.default}}}},725:(t,s,i)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.P=s.Kt=void 0;const e=i(327);s.Kt=function(){return function(t){return class extends t{constructor(){super(...arguments),this.J=new e.Xt,this.zt=[]}get Qt(){return void 0!==this.zt&&this.zt.length>0}k(t){this.zt=t||[]}}}},s.P=function(t){return"object"==typeof t&&void 0!==t.J}},673:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.Yt=s.Zt=void 0,s.Zt=function(t){return class extends t{constructor(){super(...arguments),this.Vt=0,this.Ht=0}}},s.Yt=function(t){return"object"==typeof t&&null!==t.Vt}},528:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.ts=void 0;const n=e(i(854));s.ts=function(t){return class extends t{constructor(){super(...arguments),this.Ut=new n.default,this.acceleration=new n.default,this.angularAcceleration=0,this.angularVelocity=0,this.direction=new n.default,this.ss=0}get speed(){return this.Ut.length()}es(){return this.speed>0}ns(t){const s=this.Ut.clone(),i=this.acceleration.clone().ct(t);return s.add(i),s}hs(t){const s=this.position.clone(),i=this.acceleration.clone().ct(Math.pow(t,2)/2),e=this.Ut.clone().ct(t).add(i);return s.add(e),s}rs(t){return this.angularVelocity+this.angularAcceleration*t}os(t){const s=this.direction.clone(),i=this.angularVelocity*t;return s.rotate(i),s}}}},37:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.cs=void 0;const n=e(i(854));s.cs=function(t){return class extends t{constructor(){super(...arguments),this.position=new n.default,this.Y="normal"}}}},977:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(878),h=i(704),r=e(i(451));s.default=class{constructor(t=r.default.us()){this.type=h.ds.ls,this.id=t}C(){return new n.fs}step(t){}}},704:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.ds=void 0,function(t){t[t.ls=0]="BASE_OBJECT",t[t.ws=1]="GAME_OBJECT",t[t.vs=2]="COLLISIONABLE_OBJECT",t[t.Ms=3]="PLANET",t[t._s=4]="ROCKET",t[t.ps=5]="BUTTON",t[t.bs=6]="PARTICLE"}(s.ds||(s.ds={}))},442:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=e(i(854)),h=i(704),r=i(528),o=i(37),c=e(i(977)),u=e(i(878)),a=e(i(656)),l=r.ts(o.cs(c.default));s.default=class extends l{constructor(t=1){super(),this.O=!1,this.gs=!1,this.position=new n.default,this.type=h.ds.bs,this.Ut=new n.default(0,0),this.ss=0,this.direction=new n.default(0,-1),this.Os=t,this.js=t,this.color=new a.default(0,0,0),this.gs=!0,this.size=1}step(t){this.acceleration=this.xs(t),this.position=this.hs(t.dt),this.Ut=this.ns(t.dt),this.Os-=t.dt,this.Os<0&&(this.O=!0)}C(){return new u.default((t=>{const s=t.K;if(this.gs){let t=this.Os/this.js;this.color.a=t}s.fillStyle=this.color.ys(),s.beginPath(),s.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),s.fill()}))}xs(t){return new n.default}}},473:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(327),h=i(704),r=e(i(364)),o=i(528),c=i(725),u=i(37),a=e(i(977)),l=i(673),d=e(i(878)),f=e(i(656)),w=e(i(451)),v=i(137).Gt(l.Zt(o.ts(c.Kt()(u.cs(a.default)))));s.default=class extends v{constructor(t,s,i,e=!0,o=!1){super(),this.Rs=!0,this.Cs=t=>{const s=t.K;s.fillStyle=this.color.ys(),s.strokeStyle=this.color.ys(),s.save(),s.beginPath(),s.setLineDash([5,15]),s.arc(this.position.x,this.position.y,this.Vt,0,2*Math.PI),s.stroke(),s.restore(),r.default.Is(s,this.position,this.J),s.fill(),this.Rs&&(s.translate(this.position.x,this.position.y),s.rotate(this.rotation),s.translate(-this.position.x,-this.position.y),s.beginPath(),s.strokeStyle=this.As.ys(),s.lineWidth=6,s.moveTo(this.position.x-this.J.V,this.position.y),s.bezierCurveTo(this.position.x-4*this.J.V,this.position.y+this.J.V/2,this.position.x+4*this.J.V,this.position.y+this.J.V/2,this.position.x+this.J.V,this.position.y),s.stroke(),s.strokeStyle="#8484FF",s.lineWidth=1,s.stroke())},this.position=t,this.Ht=s,this.type=h.ds.Ms,this.J=new n.B(i),this.Vt=5*i,this.St=o,this.Rs=w.default.Fs(.3),this.color=f.default.random(),this.rotation=w.default.Ps(-Math.PI/4,Math.PI/4),this.As=f.default.random()}step(t){this.St&&(this.acceleration=this.xs(t),this.position=this.hs(t.dt),this.Ut=this.ns(t.dt))}C(){return new d.default(this.Cs)}xs(t){const s=t.G.filter((t=>l.Yt(t)&&t.id!==this.id));return this.Wt(s)}}},789:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(327),h=e(i(854)),r=i(704),o=e(i(364)),c=e(i(202)),u=i(528),a=i(725),l=i(37),d=e(i(977)),f=i(137),w=i(673),v=e(i(878)),M=i(363),_=e(i(656)),p=f.Gt(u.ts(a.Kt()(l.cs(d.default))));s.default=class extends p{constructor(t,s){super("rocket"),this.Ts=!1,this.O=!1,this.Es=!1,this.ks=t=>{const{K:s,K:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`angle: ${(180*this.direction.Js(new h.default(0,-1))/Math.PI).toFixed(2)}º`,i.width-300,i.height-20)},this.Bs=t=>{const{K:s,K:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#F44",s.fillText("CAUTION",i.width-155,21)},this.$s=t=>{const{K:s}=t;s.strokeStyle="#FFF",s.save(),s.beginPath(),s.setLineDash([5,15]),s.moveTo(this.position.x,this.position.y);const i=this.direction.clone().ct(1e3);i.add(this.position),s.lineTo(i.x,i.y),s.stroke(),s.restore()},this.zs=t=>{const{K:s,K:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`position: (${this.position.x.toFixed(0)},${this.position.y.toFixed(0)})`,i.width-140,i.height-20),s.fillText(`speed: ${this.speed.toFixed(0)}`,i.width-210,i.height-20)},this.Ds=t=>{const s=t.K;s.strokeStyle="#FFF",this.Qt&&(s.strokeStyle="#F00"),s.translate(this.position.x,this.position.y),s.rotate(this.direction.Js(new h.default(0,-1))),s.translate(-this.position.x,-this.position.y);const i=o.default.Ls("eeeccd34722449c89b568","@@@JI@@@@@PJIA@@@@R|OI@@@@b|I@@@@b|I@@@@b|I@@@@b|I@@@@RJII@@@@RJiI@@@@RJII@@@@RJIy@@@XRJIyF@@[RJIyw@@[RJIyw@@[RJIyw@@[`ddxw@",16);s.drawImage(i,this.position.x-this.J.w/2,this.position.y-this.J.S/2)},this.Ns=(t,s,i=!1)=>{const e=i?M.Vs:M.Ss;if(t.length()>0){const i=e(this.position.clone(),t.clone().normalize());return this.Us(i,s),i}return null},this.position=t,this.ss=549054,this.type=r.ds._s,this.J=new n.D(13,16),this.direction=new h.default(0,-1),this.Gs=new c.default(500,7607e3),this.Ws=new c.default(300,7607e3),this.qs=s}step(t){this.Es||(this.angularAcceleration=this.Hs(t),this.angularVelocity=this.rs(t.dt),this.direction=this.os(t.dt),this.acceleration=this.xs(t),this.position=this.hs(t.dt),this.Ut=this.ns(t.dt),this.direction=this.Ks(t)),this.Qt&&!this.Xs()&&this.Qs(t),this.Xs()&&(this.Ys()&&this.speed<40?(this.Es=!0,this.Zs()):this.Qs(t))}C(){const t=new v.default(this.Ds),s=this.Gs.C(),i=this.Ws.C({color:new _.default(255,255,255),offset:new h.default(45,0)}),e=new v.default(this.zs);e.Y="overlay";const n=new v.default(this.Bs);if(n.Y="overlay",t.children=[i,s,e],this.speed>40&&t.children.push(n),!this.Ts){const s=new v.default(this.$s),i=new v.default(this.ks);i.Y="overlay",t.children.push(s,i)}return t}Ks(t){const s=this.direction.clone();return t.xt.ti("a")&&!this.Ts&&s.rotate(-.5).normalize(),t.xt.ti("d")&&!this.Ts&&s.rotate(.5).normalize(),s}Hs(t){const s=t.xt.ti;let i=0;if(s("d")&&this.Ts){const s=this.direction.clone().rotate(90).ct(this.si()),e=this.Ns(s,"top-left");e&&t.G.push(e),i=5*s.length()}if(s("a")&&this.Ts){const s=this.direction.clone().rotate(-90).ct(this.si()),e=this.Ns(s,"top-right");e&&t.G.push(e),i=-5*s.length()}return i}xs(t){const s=this.ii(t),i=t.G.filter(w.Yt),e=this.Wt(i);return s.clone().add(e)}Qs(t){this.O=!0,t.G.push(...M.ei(this.position.clone()))}Xs(){return void 0!==this.zt.find((t=>t===this.qs))}Ys(){const t=this.position.clone().sub(this.qs.position);return Math.abs(this.direction.Js(t))<.2}ii(t){let s=new h.default;const i=t.xt.ti;if(i("w")){this.Ts=!0,s=this.direction.clone().ct(this.ni());const i=this.Ns(s,"bottom",!0);i&&t.G.push(i)}if(i("s")){s=this.direction.clone().ct(-1).ct(this.si());const i=this.Ns(s,"top");i&&t.G.push(i)}return s}Us(t,s){let i=new h.default;if("bottom"===s){const t=this.direction.Js(new h.default(1,0));i=new h.default(Math.cos(t),Math.sin(t)).ct(this.J.S/2)}if(s.includes("top")){const t=this.direction.Js(new h.default(1,0));i=new h.default(Math.cos(t),Math.sin(t)).ct(this.J.S/2-3).ct(-1)}if("top-right"===s){const t=this.direction.Js(new h.default(0,1)),s=new h.default(Math.cos(t),Math.sin(t)).ct(this.J.w/2-2);i.add(s)}if("top-left"===s){const t=this.direction.Js(new h.default(0,1)),s=new h.default(Math.cos(t),Math.sin(t)).ct(this.J.w/2-2).ct(-1);i.add(s)}t.position.sub(i)}Zs(){this.acceleration=new h.default,this.Ut=new h.default,this.angularVelocity=0,this.angularAcceleration=0}si(){return this.Ws.ni()>0?30:0}ni(){return this.Gs.ni()>0?40:0}}},363:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.ei=s.Ss=s.Vs=void 0;const n=e(i(656)),h=e(i(442)),r=e(i(854)),o=e(i(451)),c=i(939);function u(t,s){const i=o.default.Fs(.3),e=i?.4:o.default.Ps(.7,1.8),r=new h.default(e);r.position=t,r.color=i?new n.default(20,o.default.hi(0,255),255):new n.default(255,o.default.hi(0,255),12),r.gs=!0;const c=o.default.Ps(-45,45);return r.Ut=s.clone().ct(-1).rotate(c).ct(o.default.ri(10,20)),r.direction=r.Ut.clone().normalize(),r.size=o.default.Ps(1,4),r}s.Vs=u,s.Ss=function(t,s){const i=u(t,s);return i.color=new n.default(255,o.default.hi(200,255),255),i.size=o.default.Ps(1,2),i.Ut.ct(2),i},s.ei=function(t){return c.oi(50,(()=>{const s=o.default.Ps(.5,1.3),i=new h.default(s);i.position=t,i.color=new n.default(255,o.default.hi(0,255),12),i.gs=!0;const e=o.default.Ps(0,360);return i.Ut=new r.default(1,0).rotate(e).ct(o.default.ri(10,20)),i.direction=i.Ut.clone().normalize(),i.size=o.default.Ps(1,3),i}))}},202:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=i(327),h=e(i(854)),r=e(i(878)),o={color:new(e(i(656)).default)(255,10,20),offset:new h.default};s.default=class{constructor(t,s){this.ci=t,this.ui=s,this.ai=t}C(t){const s=new r.default((s=>{const i=Object.assign(Object.assign({},o),t),e=i.color.ys(),{K:r}=s,c=this.ci/this.ai;r.translate(i.offset.x,i.offset.y);const u=.5*r.canvas.height,a=new h.default(25,.25*r.canvas.height),l=new n.D(20,u),d=u*c,f=a.clone().add(new h.default(0,u-d)),w=new n.D(20,d);r.strokeStyle=e,r.fillStyle=e,r.beginPath(),r.rect(a.x,a.y,l.w,l.S),r.stroke(),r.beginPath(),r.rect(f.x,f.y,w.w,w.S),r.fill()}));return s.Y="overlay",s}ni(){return this.li()?0:(this.ci-=1,this.ui)}li(){return 0===this.ci}}},327:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.Xt=s.B=s.D=void 0;s.D=class{constructor(t,s){this.w=t,this.S=s}};s.B=class{constructor(t){this.V=t}};s.Xt=class{}},164:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=e(i(854)),h=e(i(364)),r=i(37),o=e(i(878)),c=e(i(977)),u=i(327),a=r.cs(c.default);s.default=class extends a{constructor(){super(),this.id="background"}C(){const t=new o.default((t=>{const{K:s}=t;s.fillStyle="#000",h.default.di(s,new n.default(0,0),new u.D(2*s.canvas.width,2*s.canvas.height)),s.fill()}));return t.Y="overlay",t}step(){}}},854:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});class i{constructor(t=0,s=0){this.x=t,this.y=s}clone(){return new i(this.x,this.y)}U(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}fi(t){return this.x*t.x+this.y*t.y}wi(){return Math.pow(this.x,2)+Math.pow(this.y,2)}length(){return Math.sqrt(this.wi())}normalize(){const t=this.length();return this.x/=t,this.y/=t,this}ct(t){return this.x*=t,this.y*=t,this}add(t){return this.set(this.x+t.x,this.y+t.y),this}sub(t){return this.set(this.x-t.x,this.y-t.y),this}vi(){this.ct(-1)}set(t,s){return this.x=t,this.y=s,this}Js(t){return Math.atan2(this.y,this.x)-Math.atan2(t.y,t.x)}rotate(t,s=!0){let i=t*(Math.PI/180);s||(i=t);const e=Math.round(1e3*Math.cos(i))/1e3,n=Math.round(1e3*Math.sin(i))/1e3,h=this.clone();return this.x=h.x*e-h.y*n,this.y=h.x*n+h.y*e,this}}s.default=i},878:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0}),s.fs=void 0;const n=e(i(451));class h{constructor(t){this.Y="normal",this.children=[],this.id=n.default.us(),this.zIndex=1,this.Cs=t}C(t){this.Cs(t)}}s.default=h;s.fs=class extends h{constructor(){super((()=>{}))}}},364:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});s.default=class{static Is(t,s,i){t.beginPath(),t.arc(s.x,s.y,i.V,0,2*Math.PI),t.stroke()}static di(t,s,i){t.beginPath(),t.rect(s.x-i.w/2,s.y-i.S/2,i.w,i.S),t.stroke()}static Mi(){}static Ls(t,s,i=16){const e=document.createElement("canvas");e.width=i,e.height=i;const n=e.getContext("2d");if(null!==n){n.translate(-1,-1);const e=[];s.replace(/./g,(t=>{const s=t.charCodeAt(0);return e.push(7&s),e.push(s>>3&7),""}));for(let s=0;s<i;s++)for(let h=0;h<i;h++)e[s*i+h]&&(n.fillStyle="#"+t.substr(3*(e[s*i+h]-1),3),n.fillRect(h,s,1,1))}return e}static _i(){}}},656:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.g?t:{default:t}};Object.defineProperty(s,"g",{value:!0});const n=e(i(451));class h{constructor(t,s,i,e=1){this.a=1,this.r=t,this.Nt=s,this.b=i,this.a=e}pi(t){t[0]}clone(){return new h(this.r,this.Nt,this.b,this.a)}static random(t=255,s=255,i=255,e=255){function r(t){return Array.isArray(t)?n.default.hi(t[0],t[1]):n.default.hi(0,t)}return new h(r(t),r(s),r(i),r(e))}ys(){return`rgba(${this.r},${this.Nt},${this.b},${this.a})`}}s.default=h},939:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.H=s.oi=s.bi=void 0,s.bi=function(){},s.oi=function(t,s){return[...Array(t)].map((()=>s()))},s.H=function(t,s){let i=0;const e=[];for(let n of t)s(n)?t[i++]=n:e.push(n);return t.splice(i),e}},814:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0}),s.gi=s.mi=s.Oi=s.ji=s.xi=void 0,s.xi="ArrowLeft",s.ji="ArrowUp",s.Oi="ArrowRight",s.mi="ArrowDown",s.gi=" ";s.default=class{constructor(){this.yi=t=>{this.xt[t.key]=!1},this.Ri=t=>{this.xt[t.key]=!0},this.ti=t=>!!this.xt[t],this.xt={[s.ji]:!1,[s.Oi]:!1,[s.mi]:!1,[s.xi]:!1},document.addEventListener("keydown",this.Ri),document.addEventListener("keyup",this.yi)}Jt(){this.xt={}}Ci(){document.removeEventListener("keydown",this.Ri),document.removeEventListener("keyup",this.yi)}}},451:(t,s)=>{"use strict";Object.defineProperty(s,"g",{value:!0});class i{static ri(t,s){return t+Math.random()*s}static Ps(t,s){return Math.random()*(s-t)+t}static hi(t,s){return Math.floor(i.Ps(t,s+1))}static Ii(t){let s=t.length-1;return t[i.hi(0,s)]}static Fs(t=.5){return Math.random()<t}static us(){return Math.round(1e4*Math.random()).toString(16)}}s.default=i}},s={};(function i(e){var n=s[e];if(void 0!==n)return n.exports;var h=s[e]={exports:{}};return t[e].call(h.exports,h,h.exports,i),h.exports})(607)})();