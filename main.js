(()=>{var t={466:function(t){var s;t.exports=((s=function(){function t(t){return n.appendChild(t.i),t}function i(t){for(var s=0;s<n.children.length;s++)n.children[s].style.display=s===t?"block":"none";e=t}var e=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(t){t.preventDefault(),i(++e%n.children.length)}),!1);var h=(performance||Date).now(),r=h,o=0,c=t(new s.t("FPS","#0ff","#002")),u=t(new s.t("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var a=t(new s.t("MB","#f08","#201"));return i(0),{h:16,i:n,o:t,u:i,l:function(){h=(performance||Date).now()},end:function(){o++;var t=(performance||Date).now();if(u.update(t-h,200),t>r+1e3&&(c.update(1e3*o/(t-r),100),r=t,o=0,a)){var s=performance.memory;a.update(s.v/1048576,s.M/1048576)}return t},update:function(){h=this.end()},_:n,p:i}}).t=function(t,s,i){var e=1/0,n=0,h=Math.round,r=h(window.devicePixelRatio||1),o=80*r,c=48*r,u=3*r,a=2*r,l=3*r,d=15*r,f=74*r,w=30*r,v=document.createElement("canvas");v.width=o,v.height=c,v.style.cssText="width:80px;height:48px";var M=v.getContext("2d");return M.font="bold "+9*r+"px Helvetica,Arial,sans-serif",M.textBaseline="top",M.fillStyle=i,M.fillRect(0,0,o,c),M.fillStyle=s,M.fillText(t,u,a),M.fillRect(l,d,f,w),M.fillStyle=i,M.globalAlpha=.9,M.fillRect(l,d,f,w),{i:v,update:function(c,_){e=Math.min(e,c),n=Math.max(n,c),M.fillStyle=i,M.globalAlpha=1,M.fillRect(0,0,o,d),M.fillStyle=s,M.fillText(h(c)+" "+t+" ("+h(e)+"-"+h(n)+")",u,a),M.drawImage(v,l+r,d,f-r,w,l,d,f-r,w),M.fillRect(l+f-r,d,r,w),M.fillStyle=i,M.globalAlpha=.9,M.fillRect(l+f-r,d,r,h((1-c/_)*w))}}},s)},478:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.g=void 0,s.g=function(t){return"object"==typeof t&&void 0!==t.O}},192:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.j=void 0,s.j=function(t){return"object"==typeof t&&void 0!==t.init}},249:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.R=void 0,s.R=function(t){return"object"==typeof t&&void 0!==t.I}},349:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.C=void 0,s.C=function(t){return"object"==typeof t&&void 0!==t.step}},971:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=e(i(854)),r=i(725);s.default=class{F(t){const s={};for(let i=0;i<t.length;i++){const e=t[i];if(r.P(e))for(let i=0;i<t.length;i++){const n=t[i];if(e!==n&&r.P(n)){this.T(e,n)&&(void 0===s[e.id]?s[e.id]=[n]:s[e.id].push(n))}}e.k(s[e.id])}return s}T(t,s){if(t.J instanceof n.B){if(s.J instanceof n.B)return o.$(t.J,s.J,t.position,s.position);if(s.J instanceof n.D)return o.L(s.J,t.J,s.position,t.position)}if(t.J instanceof n.D){if(s.J instanceof n.B)return o.L(t.J,s.J,t.position,s.position);if(s.J instanceof n.D)return o.V(s.J,t.J,s.position,t.position)}return!1}};class o{static L(t,s,i,e){const{x:n,y:h}=i,{x:r,y:o}=e,c=s.N,u=n-t.w/2,a=n+t.w/2,l=h-t.S/2,d=h+t.S/2;let f=Math.max(u,Math.min(r,a))-r,w=Math.max(l,Math.min(o,d))-o;return f*f+w*w<=c*c}static V(t,s,i,e){const n=new h.default(i.x-t.w/2,i.y+t.S/2),r=new h.default(i.x+t.w/2,i.y-t.S/2),o=new h.default(e.x-s.w/2,e.y+s.S/2),c=new h.default(e.x+s.w/2,e.y-s.S/2);return n.x!=r.x&&n.y!=r.y&&o.x!=c.x&&o.y!=c.y&&(!(n.x>=c.x||o.x>=r.x)&&!(r.y>=o.y||c.y>=n.y))}static $(t,s,i,e){return i.G(e)<=t.N+s.N}}},239:(t,s,i)=>{"use strict";Object.defineProperty(s,"m",{value:!0});const e=i(349),n=i(192),h=i(478);s.default=class{initialize(t){const{U:s}=t;s.forEach((s=>{n.j(s)&&s.W&&(s.init(t),s.W=!1)}))}step(t){t.U.forEach((s=>{e.C(s)&&s.step(t)}))}q(t){return t.filter((t=>!h.g(t)||!t.O||(t.q&&t.q(),!1)))}}},446:(t,s,i)=>{"use strict";Object.defineProperty(s,"m",{value:!0});const e=i(249);function n(t,s){return 0===t.children.length?s:(t.children.forEach((t=>{s.push(t),n(t,s)})),[])}s.default=class{I(t){const{H:s,K:i,U:h}=t,{canvas:r}=s,o=h.filter(e.R).filter((t=>"background"!==t.id)),c=h.find((t=>"background"===t.id)),u=[];o.forEach((t=>{if(e.R(t)){const s=t.I(),i=[];n(s,i),u.push(s),u.push(...i)}}));const a=u.filter((t=>"overlay"===t.X)),l=u.filter((t=>"normal"===t.X));this.Y(s),c&&this.Z(s,(()=>{c.I().I(t)})),this.Z(s,(()=>{s.translate(r.width/2,r.height/2),s.scale(i.zoom,i.zoom),s.translate(-i.position.x,-i.position.y),l.forEach((i=>{e.R(i)&&this.Z(s,(()=>{i.I(t)}))}))})),a.forEach((i=>{this.Z(s,(()=>{i.I(t)}))}))}Y(t){const s=t.canvas;t.clearRect(-1,-1,s.width+1,s.height+1)}Z(t,s){t.save(),s(),t.restore()}}},764:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=e(i(977)),h=e(i(878)),r=e(i(854)),o=i(327);class c extends n.default{constructor(){super("camera"),this.q=void 0,this.locked=!1,this.X="overlay",this.W=!0,this.O=!1,this.tt=null,this.st=null,this.it=null,this.et=null,this.position=new r.default(0,0),this.viewport=new o.D(document.body.scrollWidth,document.body.scrollHeight),this.nt=1,this.ht=null}init(t){const{H:s}=t,i=s.canvas;this.viewport.w=i.width,this.viewport.S=i.height;let e=new r.default,n=new r.default,h=!1;const o=t=>{t.preventDefault();const s=-1*(t.clientX-(i.offsetLeft+i.width/2)),e=-1*(t.clientY-(i.offsetTop+i.height/2)),n=t.deltaY<0?1:-1,h=Math.exp(.02*n),r=this.zoom;this.zoom=this.zoom*h,r!==this.zoom&&null===this.ht&&(this.position.x+=s/(this.zoom*h)-s/this.zoom,this.position.y+=e/(this.zoom*h)-e/this.zoom)},c=t=>{if(h){this.rt();const s=n.clone().sub(new r.default(t.clientX,t.clientY));s.ot(1/this.zoom),this.position=e.clone().add(s)}},u=t=>{h=!0,e=this.position.clone(),n=new r.default(t.clientX,t.clientY)},a=t=>{h=!1},l=t=>{h=!1},d=t=>{h=!1};i.addEventListener("mousedown",u),i.addEventListener("mouseup",a),i.addEventListener("mouseover",l),i.addEventListener("mouseout",d),i.addEventListener("mousemove",c),i.addEventListener("wheel",o),this.q=()=>{i.removeEventListener("mousedown",u),i.removeEventListener("mouseup",a),i.removeEventListener("mouseover",l),i.removeEventListener("mouseout",d),i.removeEventListener("mousemove",c),i.removeEventListener("wheel",o)}}ct(t){this.ht=t}rt(){this.ht=null}ut(){this.zoom+=.5}at(){this.zoom-=.5}set zoom(t){this.nt=t,t>14&&(this.nt=14),t<.5&&(this.nt=.5)}get zoom(){return this.nt}step(t){if(null!==this.ht&&(this.position=this.ht.position.clone()),null!==this.tt&&null!==this.st&&null!==this.it&&null!==this.et){this.it-=t.lt;const s=this.tt.clone().sub(this.position),i=this.et.G(this.tt)/this.st,e=s.normalize().ot(t.lt*i);this.position=this.position.add(e),this.it<0&&(this.position=this.tt.clone(),this.tt=null,this.it=null,this.st=null,this.et=null)}this.dt(t.ft)}dt(t){const s=this.position.clone().x-this.viewport.w/2<-t.w/2,i=this.position.clone().x+this.viewport.w/2>t.w/2,e=this.position.clone().y-this.viewport.S/2>t.S/2,n=this.position.clone().y+this.viewport.S/2<-t.S/2;s&&(this.position.x=-t.w/2+this.viewport.w/2),i&&(this.position.x=t.w/2-this.viewport.w/2),e&&(this.position.y=t.w/2+this.viewport.S/2),n&&(this.position.y=-t.w/2-this.viewport.S/2)}I(){const t=new h.default((t=>{const{H:s,H:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`(${this.position.x.toFixed(0)},${this.position.y.toFixed(0)})`,i.width-80,20)}));return t.X="overlay",t}wt(t,s=1){return this.ht=null,this.tt=t,this.et=this.position.clone(),this.st=s,this.it=s,new Promise((t=>{setTimeout((()=>{t()}),1e3*s)}))}}s.default=c},353:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});s.default=class{static vt(){let t;const s=document.createElement("canvas"),i=document.getElementById("canvas-container");if(!i)throw Error("No canvas container");{const e=()=>{s.width=document.body.scrollWidth,s.height=document.body.scrollHeight,t.imageSmoothingEnabled=!1,t.translate(.5,.5)},n=s.getContext("2d");if(void 0===n)throw Error("Browser doesnt support canvas!");t=n,e(),i.appendChild(s),window.addEventListener("resize",e)}return t}}},753:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});function i(){return("undefined"==typeof performance?Date:performance).now()}s.default=class{constructor(t=!0){this.Mt=t,this.startTime=0,this._t=0,this.elapsedTime=0,this.bt=!1}start(){this.startTime=i(),this._t=this.startTime,this.elapsedTime=0,this.bt=!0}stop(){this.gt(),this.bt=!1,this.Mt=!1}gt(){return this.Ot(),this.elapsedTime}Ot(){let t=0;if(this.Mt&&!this.bt)return this.start(),0;if(this.bt){const s=i();t=(s-this._t)/1e3,this._t=s,this.elapsedTime+=t}return t}}},319:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=e(i(971)),h=e(i(446)),r=e(i(814)),o=e(i(753)),c=e(i(839)),u=e(i(466)),a=e(i(353)),l=i(725),d=e(i(239)),f=i(10);s.default=class{constructor(){this.jt=new r.default,this.yt=!1,this.xt=new n.default,this.Rt=new h.default,this.It=new d.default,this.Ct=1,this.At=()=>{this.yt=!1,this.Ft.start()},this.pause=()=>{this.yt=!0,this.Ft.stop()},this.loop=t=>()=>{this.Pt.l(),t&&t(),this.yt||this.update(),requestAnimationFrame(this.loop(t)),this.Tt()},this.H=a.default.vt(),this.level=f.Et(),this.Ft=new o.default,this.jt=new r.default,this.Pt=new u.default,this.Pt.u(0),document.body.appendChild(this.Pt.i)}init(){window.addEventListener("blur",(()=>{this.jt.kt(),this.pause()})),window.addEventListener("focus",this.At),window.addEventListener("keydown",(t=>{"m"===t.key&&(this.Ct+=1),"n"===t.key&&(this.Ct-=1)})),window.addEventListener("keydown",(t=>{" "===t.key&&this.level.K.ct(this.level.Jt)}))}update(){const t=this.Bt();this.It.initialize(t),this.It.step(t),this.Rt.I(t),this.level.U=this.It.q(t.U)}Tt(){this.Pt.end()}Bt(){const t=this.level.U.filter(l.P),s=this.xt.F(t),i=this.Ft.Ot()*this.Ct;return new c.default(s,i,this.yt,this.level.U,this.jt,this.H,this.level.K,this.level.ft,this.pause,this.At)}}},839:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});s.default=class{constructor(t,s,i,e,n,h,r,o,c,u){this.$t=t,this.lt=s,this.yt=i,this.U=e,this.jt=n,this.H=h,this.K=r,this.ft=o,this.pause=c,this.At=u}}},866:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=e(i(764)),r=e(i(164)),o=e(i(789)),c=e(i(854));s.default=class{constructor(t,s,i=new n.D(4e3,4e3)){this.U=[];const e=new r.default;this.Jt=new o.default(new c.default,s),this.U=t,this.K=new h.default,this.ft=i,this.U.push(e,this.Jt,this.K)}init(){}q(){}}},607:function(t,s,i){"use strict";var e=this&&this.zt||function(t,s,i,e){return new(i||(i=Promise))((function(n,h){function r(t){try{c(e.next(t))}catch(t){h(t)}}function o(t){try{c(e.Dt(t))}catch(t){h(t)}}function c(t){var s;t.done?n(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(r,o)}c((e=e.apply(t,s||[])).next())}))},n=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const h=n(i(319));!function(){e(this,void 0,void 0,(function*(){const t=new h.default;window.Lt=t,t.init();t.loop((function(){}))()}))}()},10:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.Et=void 0;const n=e(i(866)),h=e(i(830)),r=e(i(473)),o=e(i(854));s.Et=function(){const t=new r.default(new o.default,1500,100),s=new r.default(new o.default(0,-400),2e3,150),i=[t,s,new h.default(new o.default(0,300))],e=new n.default(i,s);return e.Jt.position=new o.default(0,800),e}},137:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.Vt=void 0;const n=e(i(854));s.Vt=function(t){return class extends t{Nt(t){const s=new n.default;return t.forEach((t=>{const i=this.St(t);s.add(i)})),s}St(t){const s=this.position.G(t.position);if(s<t.Gt){const i=new n.default(t.position.x-this.position.x,t.position.y-this.position.y).normalize();return i.ot(t.Ut/s),i}return new n.default}}}},725:(t,s,i)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.P=s.Wt=void 0;const e=i(327);s.Wt=function(){return function(t){return class extends t{constructor(){super(...arguments),this.J=new e.qt,this.$t=[]}get Ht(){return void 0!==this.$t&&this.$t.length>0}k(t){this.$t=t||[]}}}},s.P=function(t){return"object"==typeof t&&void 0!==t.J}},673:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.Kt=s.Xt=void 0,s.Xt=function(t){return class extends t{constructor(){super(...arguments),this.Gt=0,this.Ut=0}}},s.Kt=function(t){return"object"==typeof t&&null!==t.Gt}},528:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.Qt=void 0;const n=e(i(854));s.Qt=function(t){return class extends t{constructor(){super(...arguments),this.Yt=new n.default,this.acceleration=new n.default,this.angularAcceleration=0,this.angularVelocity=0,this.direction=new n.default,this.Zt=0}get speed(){return this.Yt.length()}ts(){return this.speed>0}ss(t){const s=this.Yt.clone(),i=this.acceleration.clone().ot(t);return s.add(i),s}es(t){const s=this.position.clone(),i=this.acceleration.clone().ot(Math.pow(t,2)/2),e=this.Yt.clone().ot(t).add(i);return s.add(e),s}ns(t){return this.angularVelocity+this.angularAcceleration*t}hs(t){const s=this.direction.clone(),i=this.angularVelocity*t;return s.rotate(i),s}}}},37:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.rs=void 0;const n=e(i(854));s.rs=function(t){return class extends t{constructor(){super(...arguments),this.position=new n.default,this.X="normal"}}}},977:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(878),h=i(704),r=e(i(451));s.default=class{constructor(t=r.default.os()){this.type=h.us.cs,this.id=t}I(){return new n.ls}step(t){}}},704:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.us=void 0,function(t){t[t.cs=0]="BASE_OBJECT",t[t.ds=1]="GAME_OBJECT",t[t.fs=2]="COLLISIONABLE_OBJECT",t[t.ws=3]="PLANET",t[t.vs=4]="ROCKET",t[t.Ms=5]="BUTTON",t[t._s=6]="PARTICLE"}(s.us||(s.us={}))},442:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=e(i(854)),h=i(704),r=i(528),o=i(37),c=e(i(977)),u=e(i(878)),a=e(i(656)),l=r.Qt(o.rs(c.default));s.default=class extends l{constructor(t=1){super(),this.O=!1,this.ps=!1,this.position=new n.default,this.type=h.us._s,this.Yt=new n.default(0,0),this.Zt=0,this.direction=new n.default(0,-1),this.bs=t,this.gs=t,this.color=new a.default(0,0,0),this.ps=!0,this.size=1}step(t){this.acceleration=this.Os(t),this.position=this.es(t.lt),this.Yt=this.ss(t.lt),this.bs-=t.lt,this.bs<0&&(this.O=!0)}I(){return new u.default((t=>{const s=t.H;if(this.ps){let t=this.bs/this.gs;this.color.a=t}s.fillStyle=this.color.js(),s.beginPath(),s.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),s.fill()}))}Os(t){return new n.default}}},830:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=e(i(854)),r=i(704),o=e(i(364)),c=i(528),u=i(725),a=i(37),l=e(i(977)),d=i(673),f=i(137),w=e(i(878)),v=f.Vt(d.Xt(c.Qt(u.Wt()(a.rs(l.default)))));s.default=class extends v{constructor(t){super(),this.ys=t=>{const s=t.H;s.fillStyle="#FFF",s.strokeStyle="#FFF",s.save(),s.beginPath(),s.setLineDash([5,15]),s.arc(this.position.x,this.position.y,this.Gt,0,2*Math.PI),s.stroke(),s.restore(),this.Ht&&(s.strokeStyle="#F00"),o.default.xs(s,this.position.clone(),this.J),s.fill()},this.position=t,this.Ut=700,this.type=r.us.ws,this.Gt=150,this.Yt=new h.default(30,0),this.J=new n.B(4),this.Zt=100,this.direction=new h.default(0,-1)}step(t){this.acceleration=this.Os(t),this.position=this.es(t.lt),this.Yt=this.ss(t.lt)}I(){return new w.default(this.ys)}Os(t){const s=t.U.filter((t=>d.Kt(t)&&t.id!==this.id));return this.Nt(s)}}},473:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=i(704),r=e(i(364)),o=i(528),c=i(725),u=i(37),a=e(i(977)),l=i(673),d=e(i(878)),f=e(i(656)),w=e(i(451)),v=l.Xt(o.Qt(c.Wt()(u.rs(a.default))));s.default=class extends v{constructor(t,s,i,e=!0,o=!1){super(),this.Rs=!0,this.ys=t=>{const s=t.H;s.fillStyle=this.color.js(),s.strokeStyle=this.color.js(),s.save(),s.beginPath(),s.setLineDash([5,15]),s.arc(this.position.x,this.position.y,this.Gt,0,2*Math.PI),s.stroke(),s.restore(),r.default.xs(s,this.position,this.J),s.fill(),this.Rs&&(s.translate(this.position.x,this.position.y),s.rotate(this.rotation),s.translate(-this.position.x,-this.position.y),s.beginPath(),s.strokeStyle=this.Is.js(),s.lineWidth=6,s.moveTo(this.position.x-this.J.N,this.position.y),s.bezierCurveTo(this.position.x-4*this.J.N,this.position.y+this.J.N/2,this.position.x+4*this.J.N,this.position.y+this.J.N/2,this.position.x+this.J.N,this.position.y),s.stroke(),s.strokeStyle="#8484FF",s.lineWidth=1,s.stroke())},this.position=t,this.Ut=s,this.type=h.us.ws,this.J=new n.B(i),this.Gt=5*i,this.Cs=o,this.Rs=w.default.As(.3),this.color=f.default.random(),this.rotation=w.default.Fs(-Math.PI/4,Math.PI/4),this.Is=f.default.random()}step(){}I(){return new d.default(this.ys)}}},789:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=e(i(854)),r=i(704),o=e(i(364)),c=e(i(202)),u=i(528),a=i(725),l=i(37),d=e(i(977)),f=i(137),w=i(673),v=e(i(878)),M=i(363),_=e(i(656)),p=f.Vt(u.Qt(a.Wt()(l.rs(d.default))));s.default=class extends p{constructor(t,s){super("rocket"),this.Ps=!1,this.O=!1,this.Ts=!1,this.Es=t=>{const{H:s,H:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`angle: ${(180*this.direction.ks(new h.default(0,-1))/Math.PI).toFixed(2)}º`,i.width-300,i.height-20)},this.Js=t=>{const{H:s}=t;s.strokeStyle="#FFF",s.save(),s.beginPath(),s.setLineDash([5,15]),s.moveTo(this.position.x,this.position.y);const i=this.direction.clone().ot(1e3);i.add(this.position),s.lineTo(i.x,i.y),s.stroke(),s.restore()},this.Bs=t=>{const{H:s,H:{canvas:i}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`position: (${this.position.x.toFixed(0)},${this.position.y.toFixed(0)})`,i.width-140,i.height-20),s.fillText(`speed: ${this.speed.toFixed(0)}`,i.width-210,i.height-20)},this.$s=t=>{const s=t.H;s.strokeStyle="#FFF",this.Ht&&(s.strokeStyle="#F00"),s.translate(this.position.x,this.position.y),s.rotate(this.direction.ks(new h.default(0,-1))),s.translate(-this.position.x,-this.position.y);const i=o.default.zs("eeeccd34722449c89b568","@@@JI@@@@@PJIA@@@@R|OI@@@@b|I@@@@b|I@@@@b|I@@@@b|I@@@@RJII@@@@RJiI@@@@RJII@@@@RJIy@@@XRJIyF@@[RJIyw@@[RJIyw@@[RJIyw@@[`ddxw@",16);s.drawImage(i,this.position.x-this.J.w/2,this.position.y-this.J.S/2)},this.Ds=(t,s,i=!1)=>{const e=i?M.Ls:M.Vs;if(t.length()>0){const i=e(this.position.clone(),t.clone().normalize());return this.Ns(i,s),i}return null},this.position=t,this.Zt=549054,this.type=r.us.vs,this.J=new n.D(13,16),this.direction=new h.default(0,-1),this.Ss=new c.default(500,7607e3),this.Gs=new c.default(300,7607e3),this.Us=s}step(t){this.Ts||(this.angularAcceleration=this.Ws(t),this.angularVelocity=this.ns(t.lt),this.direction=this.hs(t.lt),this.acceleration=this.Os(t),this.position=this.es(t.lt),this.Yt=this.ss(t.lt),this.direction=this.qs(t)),this.Ht&&!this.Hs()&&this.Ks(t),this.Hs()&&(this.Xs()&&this.speed<40&&(this.Ts=!0,this.Qs(),alert("👏")),this.speed>=40&&this.Ks(t))}I(){const t=new v.default(this.$s),s=this.Ss.I(),i=this.Gs.I({color:new _.default(255,255,255),offset:new h.default(45,0)}),e=new v.default(this.Bs);if(e.X="overlay",t.children=[i,s,e],!this.Ps){const s=new v.default(this.Js),i=new v.default(this.Es);i.X="overlay",t.children.push(s,i)}return t}qs(t){const s=this.direction.clone();return t.jt.Ys("a")&&!this.Ps&&s.rotate(-.5).normalize(),t.jt.Ys("d")&&!this.Ps&&s.rotate(.5).normalize(),s}Ws(t){const s=t.jt.Ys;let i=0;if(s("d")&&this.Ps){const s=this.direction.clone().rotate(90).ot(this.Zs()),e=this.Ds(s,"top-left");e&&t.U.push(e),i=5*s.length()}if(s("a")&&this.Ps){const s=this.direction.clone().rotate(-90).ot(this.Zs()),e=this.Ds(s,"top-right");e&&t.U.push(e),i=-5*s.length()}return i}Os(t){const s=this.ti(t),i=t.U.filter(w.Kt),e=this.Nt(i);return s.clone().add(e)}Ks(t){this.O=!0,t.U.push(...M.si(this.position.clone()))}Hs(){return void 0!==this.$t.find((t=>t===this.Us))}Xs(){return!0}ti(t){let s=new h.default;const i=t.jt.Ys;if(i("w")){this.Ps=!0,s=this.direction.clone().ot(this.ii());const i=this.Ds(s,"bottom",!0);i&&t.U.push(i)}if(i("s")){s=this.direction.clone().ot(-1).ot(this.Zs());const i=this.Ds(s,"top");i&&t.U.push(i)}return s}Ns(t,s){let i=new h.default;if("bottom"===s){const t=this.direction.ks(new h.default(1,0));i=new h.default(Math.cos(t),Math.sin(t)).ot(this.J.S/2)}if(s.includes("top")){const t=this.direction.ks(new h.default(1,0));i=new h.default(Math.cos(t),Math.sin(t)).ot(this.J.S/2-3).ot(-1)}if("top-right"===s){const t=this.direction.ks(new h.default(0,1)),s=new h.default(Math.cos(t),Math.sin(t)).ot(this.J.w/2-2);i.add(s)}if("top-left"===s){const t=this.direction.ks(new h.default(0,1)),s=new h.default(Math.cos(t),Math.sin(t)).ot(this.J.w/2-2).ot(-1);i.add(s)}t.position.sub(i)}Qs(){this.acceleration=new h.default,this.Yt=new h.default,this.angularVelocity=0,this.angularAcceleration=0}Zs(){return this.Gs.ii()>0?30:0}ii(){return this.Ss.ii()>0?40:0}}},363:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.si=s.Vs=s.Ls=void 0;const n=e(i(656)),h=e(i(442)),r=e(i(854)),o=e(i(451)),c=i(939);function u(t,s){const i=o.default.As(),e=i?.2:o.default.Fs(.5,1.3),r=new h.default(e);r.position=t,r.color=i?new n.default(20,o.default.ei(0,255),255):new n.default(255,o.default.ei(0,255),12),r.ps=!0;const c=o.default.Fs(-45,45);return r.Yt=s.clone().ot(-1).rotate(c).ot(o.default.ni(10,20)),r.direction=r.Yt.clone().normalize(),r.size=o.default.Fs(1,4),r}s.Ls=u,s.Vs=function(t,s){const i=u(t,s);return i.color=new n.default(255,o.default.ei(200,255),255),i.size=o.default.Fs(1,2),i.Yt.ot(2),i},s.si=function(t){return c.hi(50,(()=>{const s=o.default.Fs(.5,1.3),i=new h.default(s);i.position=t,i.color=new n.default(255,o.default.ei(0,255),12),i.ps=!0;const e=o.default.Fs(0,360);return i.Yt=new r.default(1,0).rotate(e).ot(o.default.ni(10,20)),i.direction=i.Yt.clone().normalize(),i.size=o.default.Fs(1,3),i}))}},202:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=i(327),h=e(i(854)),r=e(i(878)),o={color:new(e(i(656)).default)(255,10,20),offset:new h.default};s.default=class{constructor(t,s){this.ri=t,this.oi=s,this.ci=t}I(t){const s=new r.default((s=>{const i=Object.assign(Object.assign({},o),t),e=i.color.js(),{H:r}=s,c=this.ri/this.ci;r.translate(i.offset.x,i.offset.y);const u=.5*r.canvas.height,a=new h.default(25,.25*r.canvas.height),l=new n.D(20,u),d=u*c,f=a.clone().add(new h.default(0,u-d)),w=new n.D(20,d);r.strokeStyle=e,r.fillStyle=e,r.beginPath(),r.rect(a.x,a.y,l.w,l.S),r.stroke(),r.beginPath(),r.rect(f.x,f.y,w.w,w.S),r.fill()}));return s.X="overlay",s}ii(){return this.ui()?0:(this.ri-=1,this.oi)}ui(){return 0===this.ri}}},327:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.qt=s.B=s.D=void 0;s.D=class{constructor(t,s){this.w=t,this.S=s}};s.B=class{constructor(t){this.N=t}};s.qt=class{}},164:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=e(i(854)),h=e(i(364)),r=i(37),o=e(i(878)),c=e(i(977)),u=i(327),a=r.rs(c.default);s.default=class extends a{constructor(){super(),this.id="background"}I(){const t=new o.default((t=>{const{H:s}=t;s.fillStyle="#000",h.default.ai(s,new n.default(0,0),new u.D(2*s.canvas.width,2*s.canvas.height)),s.fill()}));return t.X="overlay",t}step(){}}},854:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});class i{constructor(t=0,s=0){this.x=t,this.y=s}clone(){return new i(this.x,this.y)}G(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}li(t){return this.x*t.x+this.y*t.y}di(){return Math.pow(this.x,2)+Math.pow(this.y,2)}length(){return Math.sqrt(this.di())}normalize(){const t=this.length();return this.x/=t,this.y/=t,this}ot(t){return this.x*=t,this.y*=t,this}add(t){return this.set(this.x+t.x,this.y+t.y),this}sub(t){return this.set(this.x-t.x,this.y-t.y),this}fi(){this.ot(-1)}set(t,s){return this.x=t,this.y=s,this}ks(t){return Math.atan2(this.y,this.x)-Math.atan2(t.y,t.x)}rotate(t,s=!0){let i=t*(Math.PI/180);s||(i=t);const e=Math.round(1e3*Math.cos(i))/1e3,n=Math.round(1e3*Math.sin(i))/1e3,h=this.clone();return this.x=h.x*e-h.y*n,this.y=h.x*n+h.y*e,this}}s.default=i},878:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0}),s.ls=void 0;const n=e(i(451));class h{constructor(t){this.X="normal",this.children=[],this.id=n.default.os(),this.zIndex=1,this.ys=t}I(t){this.ys(t)}}s.default=h;s.ls=class extends h{constructor(){super((()=>{}))}}},364:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});s.default=class{static xs(t,s,i){t.beginPath(),t.arc(s.x,s.y,i.N,0,2*Math.PI),t.stroke()}static ai(t,s,i){t.beginPath(),t.rect(s.x-i.w/2,s.y-i.S/2,i.w,i.S),t.stroke()}static wi(){}static zs(t,s,i=16){const e=document.createElement("canvas");e.width=i,e.height=i;const n=e.getContext("2d");if(null!==n){n.translate(-1,-1);const e=[];s.replace(/./g,(t=>{const s=t.charCodeAt(0);return e.push(7&s),e.push(s>>3&7),""}));for(let s=0;s<i;s++)for(let h=0;h<i;h++)e[s*i+h]&&(n.fillStyle="#"+t.substr(3*(e[s*i+h]-1),3),n.fillRect(h,s,1,1))}return e}static vi(){}}},656:function(t,s,i){"use strict";var e=this&&this.A||function(t){return t&&t.m?t:{default:t}};Object.defineProperty(s,"m",{value:!0});const n=e(i(451));class h{constructor(t,s,i,e=1){this.a=1,this.r=t,this.Lt=s,this.b=i,this.a=e}Mi(t){t[0]}clone(){return new h(this.r,this.Lt,this.b,this.a)}static random(t=255,s=255,i=255,e=255){function r(t){return Array.isArray(t)?n.default.ei(t[0],t[1]):n.default.ei(0,t)}return new h(r(t),r(s),r(i),r(e))}js(){return`rgba(${this.r},${this.Lt},${this.b},${this.a})`}}s.default=h},939:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.hi=s._i=void 0,s._i=function(){},s.hi=function(t,s){return[...Array(t)].map((()=>s()))}},814:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0}),s.pi=s.bi=s.mi=s.gi=s.Oi=void 0,s.Oi="ArrowLeft",s.gi="ArrowUp",s.mi="ArrowRight",s.bi="ArrowDown",s.pi=" ";s.default=class{constructor(){this.ji=t=>{this.jt[t.key]=!1},this.yi=t=>{this.jt[t.key]=!0},this.Ys=t=>!!this.jt[t],this.jt={[s.gi]:!1,[s.mi]:!1,[s.bi]:!1,[s.Oi]:!1},document.addEventListener("keydown",this.yi),document.addEventListener("keyup",this.ji)}kt(){this.jt={}}xi(){document.removeEventListener("keydown",this.yi),document.removeEventListener("keyup",this.ji)}}},451:(t,s)=>{"use strict";Object.defineProperty(s,"m",{value:!0});class i{static ni(t,s){return t+Math.random()*s}static Fs(t,s){return Math.random()*(s-t)+t}static ei(t,s){return Math.floor(i.Fs(t,s+1))}static Ri(t){let s=t.length-1;return t[i.ei(0,s)]}static As(t=.5){return Math.random()<t}static os(){return Math.round(1e4*Math.random()).toString(16)}}s.default=i}},s={};(function i(e){var n=s[e];if(void 0!==n)return n.exports;var h=s[e]={exports:{}};return t[e].call(h.exports,h,h.exports,i),h.exports})(607)})();