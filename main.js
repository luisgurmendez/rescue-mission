(()=>{"use strict";var t={9478:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.i=void 0,s.i=function(t){return"object"==typeof t&&void 0!==t.o}},8192:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.h=void 0,s.h=function(t){return"object"==typeof t&&void 0!==t.init}},7249:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.u=void 0,s.u=function(t){return"object"==typeof t&&void 0!==t.l}},3349:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.v=void 0,s.v=function(t){return"object"==typeof t&&void 0!==t.step}},1971:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9327),o=e(8725),c=n(e(3910));s.default=class{_(t){const s={};for(let e=0;e<t.length;e++){const n=t[e];if(o.M(n))for(let e=0;e<t.length;e++){const i=t[e];if(n!==i&&o.M(i)){this.p(n,i)&&(void 0===s[n.id]?s[n.id]=[i]:s[n.id].push(i))}}n.g(s[n.id])}return s}p(t,s){if(t.O instanceof i.j){if(s.O instanceof i.j)return c.default.R(t.O,s.O,t.position,s.position);if(s.O instanceof i.C)return c.default.I(s.O,t.O,s.position,t.position)}if(t.O instanceof i.C){if(s.O instanceof i.j)return c.default.I(t.O,s.O,t.position,s.position);if(s.O instanceof i.C)return c.default.k(s.O,t.O,s.position,t.position)}return!1}}},1239:(t,s,e)=>{Object.defineProperty(s,"t",{value:!0});const n=e(3349),i=e(8192),o=e(9478),c=e(4939);s.default=class{initialize(t){const{A:s}=t;s.forEach((s=>{i.h(s)&&s.F&&(s.init(t),s.F=!1)}))}step(t){t.A.forEach((s=>{n.v(s)&&s.step(t)}))}L(t){const{A:s}=t;c.T(s,(t=>!(o.i(t)&&t.o))).forEach((t=>{o.i(t)&&t.L&&t.L()}))}}},4446:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(7249),o=n(e(2854)),c=n(e(6364)),h=n(e(5656)),r=e(6353);function u(t,s){return 0===t.children.length?s:(t.children.forEach((t=>{s.push(t),u(t,s)})),[])}s.default=class{l(t){const{P:s,J:e,A:n}=t,{canvas:o}=s,c=n.filter(i.u).filter((t=>"background"!==t.id)),h=n.find((t=>"background"===t.id)),a=[];c.forEach((t=>{if(i.u(t)){const s=t.l(),e=[];u(s,e),a.push(s),a.push(...e)}}));const l=a.filter((t=>"overlay"===t.B)),d=a.filter((t=>"normal"===t.B));this.N(s),h&&this.S(s,(()=>{h.l().l(t)})),this.S(s,(()=>{s.translate(r.X.w/2,r.X.$/2),s.scale(e.zoom,e.zoom),s.translate(-e.position.x,-e.position.y),d.forEach((e=>{i.u(e)&&this.S(s,(()=>{e.l(t)}))}))})),l.forEach((e=>{this.S(s,(()=>{e.l(t)}))})),t.D&&this.G(s)}N(t){const s=t.canvas;t.clearRect(-1,-1,s.width+1,s.height+1)}S(t,s){t.save(),s(),t.restore()}G(t){const s={w:t.canvas.width,$:t.canvas.height};t.rect(0,0,s.w,s.$),t.fillStyle=new h.default(0,0,0,.5).K(),t.fill(),t.font="45px Arial",t.fillStyle="#FFF",c.default.V(t,"Press [p] to unpause",new o.default(s.w/2,0))}}},6111:(t,s,e)=>{Object.defineProperty(s,"t",{value:!0});const n=e(3704);s.default=class{constructor(){this.Y=40,this.U=.4}step(t){const{W:s}=t;if(this.q(s)){const e=this.H(s);null!==e&&this.Z(s,e)&&this.tt(s)?s.st(e):s.et(t)}}H(t){let s;return s=t.nt.find((t=>t.type===n.ot.it)),s||null}q(t){let s=!1;return t.ct&&(s=t.nt.some((t=>t.type===n.ot.it||t.type===n.ot.ht))),s}Z(t,s){const e=t.position.clone().sub(s.position);return Math.abs(t.direction.rt(e))<this.U}tt(t){return t.speed<this.Y}}},9764:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(977)),o=n(e(9878)),c=n(e(2854)),h=e(9327);class r extends i.default{constructor(){super("camera"),this.L=void 0,this.locked=!1,this.F=!0,this.o=!1,this.ut=new c.default(0,0),this.viewport=new h.C(document.body.scrollWidth,document.body.scrollHeight),this.at=1,this.lt=null}init(t){const{P:s}=t,e=s.canvas;this.viewport.w=e.width,this.viewport.$=e.height;let n=new c.default,i=new c.default,o=!1;const h=t=>{t.preventDefault();const s=-1*(t.clientX-(e.offsetLeft+e.width/2)),n=-1*(t.clientY-(e.offsetTop+e.height/2)),i=t.deltaY<0?1:-1,o=Math.exp(.02*i),c=this.zoom;this.zoom=this.zoom*o,c!==this.zoom&&null===this.lt&&(this.position.x+=s/(this.zoom*o)-s/this.zoom,this.position.y+=n/(this.zoom*o)-n/this.zoom)},r=t=>{if(o){this.dt();const s=i.clone().sub(new c.default(t.clientX,t.clientY));s.ft(1/this.zoom),this.position=n.clone().add(s)}},u=t=>{o=!0,n=this.position.clone(),i=new c.default(t.clientX,t.clientY)},a=t=>{o=!1},l=t=>{"."===t.key&&this.wt(),","===t.key&&this.vt()};e.addEventListener("mousedown",u),e.addEventListener("mouseup",a),e.addEventListener("mouseover",a),e.addEventListener("mouseout",a),e.addEventListener("mousemove",r),e.addEventListener("wheel",h),window.addEventListener("keydown",l),this.L=()=>{e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",a),e.removeEventListener("mouseover",a),e.removeEventListener("mouseout",a),e.removeEventListener("mousemove",r),e.removeEventListener("wheel",h),window.removeEventListener("keydown",l)}}_t(t){this.lt=t}dt(){this.lt=null}wt(){this.zoom+=.5}vt(){this.zoom-=.5}set zoom(t){this.locked||(this.at=t,t>14&&(this.at=14),t<.01&&(this.at=.01))}get zoom(){return this.at}set position(t){this.locked||(this.ut=t)}get position(){return this.ut}step(t){null!==this.lt&&(this.ut=this.lt.position.clone()),this.Mt(t.bt)}Mt(t){const s=this.position.clone().x-this.viewport.w/2<-t.w/2,e=this.position.clone().x+this.viewport.w/2>t.w/2,n=this.position.clone().y-this.viewport.$/2>t.$/2,i=this.position.clone().y+this.viewport.$/2<-t.$/2;s&&(this.position.x=-t.w/2+this.viewport.w/2),e&&(this.position.x=t.w/2-this.viewport.w/2),n&&(this.position.y=t.w/2+this.viewport.$/2),i&&(this.position.y=-t.w/2-this.viewport.$/2)}l(){const t=new o.default((t=>{const{P:s,P:{canvas:e}}=t;s.font="15px Arial",s.fillStyle="#FFF",s.fillText(`(${this.position.x.toFixed(0)},${this.position.y.toFixed(0)})`,e.width-120,20)}));return t.B="overlay",t}}s.default=r},6353:(t,s,e)=>{Object.defineProperty(s,"t",{value:!0}),s.X=void 0;const n=e(9327);s.X=new n.C(document.body.scrollWidth,document.body.scrollHeight);s.default=class{static gt(){let t;const e=document.createElement("canvas"),n=document.getElementById("canvas-container");if(!n)throw Error("No canvas container");{const i=()=>{e.width=document.body.scrollWidth,e.height=document.body.scrollHeight,t.imageSmoothingEnabled=!1,t.translate(.5,.5),s.X.w=e.width,s.X.$=e.height},o=e.getContext("2d");if(void 0===o)throw Error("Browser doesnt support canvas!");t=o,i(),n.appendChild(e),window.addEventListener("resize",i)}return t}}},9753:(t,s)=>{Object.defineProperty(s,"t",{value:!0});function e(){return("undefined"==typeof performance?Date:performance).now()}s.default=class{constructor(t=!0){this.Ot=t,this.startTime=0,this.jt=0,this.elapsedTime=0,this.yt=!1}start(){this.startTime=e(),this.jt=this.startTime,this.elapsedTime=0,this.yt=!0}stop(){this.Rt(),this.yt=!1,this.Ot=!1}Rt(){return this.xt(),this.elapsedTime}xt(){let t=0;if(this.Ot&&!this.yt)return this.start(),0;if(this.yt){const s=e();t=(s-this.jt)/1e3,this.jt=s,this.elapsedTime+=t}return t}}},6319:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.Ct=void 0;const i=n(e(7421)),o=n(e(9753)),c=n(e(6353)),h=e(1991),r=n(e(9010)),u=i.default.It();s.default=class{constructor(){this.D=!1,this.kt=1,this.At=!1,this.Ft=()=>{this.D=!1,this.Lt.start()},this.pause=()=>{this.D=!0,this.Lt.stop()},this.loop=t=>()=>{t&&t(),this.update(),requestAnimationFrame(this.loop(t)),this.Tt()},this.Pt=t=>{this.Bt.Jt(t),this.Bt.next()},this.Nt=()=>{h.St(),this.At=!1,this.Ft()},this.P=c.default.gt(),this.Lt=new o.default,this.Bt=new r.default}init(){this.Bt.init(),window.addEventListener("blur",(()=>{u.Xt(),this.pause()})),window.addEventListener("keydown",(t=>{"x"===t.key&&(this.kt+=1),"z"===t.key&&(this.kt-=1,this.kt<1&&(this.kt=1)),"m"===t.key&&(this.At?this.Nt():this.zt()),"r"===t.key&&this.Bt.Et(),"0"!==t.key&&"1"!==t.key&&"2"!==t.key&&"3"!==t.key||this.Bt.$t(parseInt(t.key))})),window.addEventListener("keydown",(t=>{if(" "===t.key){const t=this.Bt.Dt();t.J._t(t.W)}})),window.addEventListener("keydown",(t=>{"p"!==t.key||this.At||(this.D?this.Ft():this.pause())}))}update(){try{const t=this.Bt.Dt(),s=this.Gt();t.update(s)}catch(t){console.log(t)}}Tt(){}Gt(){const t=this.Lt.xt()*this.kt;return new a(t,this.P,this.D,this.Pt,this.pause,this.Ft)}zt(){this.pause(),h.Kt(this.Nt,this.Bt.Vt(),this.Bt.Yt(),this.Bt.Ut(),(t=>this.Bt.$t(t))),this.At=!0}};class a{constructor(t,s,e,n,i,o){this.Wt=t,this.P=s,this.D=e,this.Pt=n,this.pause=i,this.Ft=o}}s.Ct=a},1839:(t,s)=>{Object.defineProperty(s,"t",{value:!0});s.default=class{constructor(t,s,e,n,i,o,c,h,r,u,a,l,d){this.nt=t,this.Wt=s,this.D=e,this.A=n,this.qt=i,this.P=o,this.J=c,this.bt=h,this.W=r,this.Ht=u,this.Qt=a,this.pause=l,this.Ft=d}}},7421:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.Zt=s.ts=s.ss=s.es=s.ns=void 0,s.ns="ArrowLeft",s.es="ArrowUp",s.ss="ArrowRight",s.ts="ArrowDown",s.Zt=" ";class e{constructor(){this.os=t=>{this.qt[t.key]=!1},this.cs=t=>{this.qt[t.key]=!0},this.hs=t=>!!this.qt[t],this.qt={},document.addEventListener("keydown",this.cs),document.addEventListener("keyup",this.os)}Xt(){this.qt={}}rs(){document.removeEventListener("keydown",this.cs),document.removeEventListener("keyup",this.os)}static It(){return e.us||(e.us=new e),e.us}}s.default=e},1866:function(t,s,e){var n=this&&this.ls||(Object.create?function(t,s,e,n){void 0===n&&(n=e),Object.defineProperty(t,n,{ds:!0,get:function(){return s[e]}})}:function(t,s,e,n){void 0===n&&(n=e),t[n]=s[e]}),i=this&&this.fs||(Object.create?function(t,s){Object.defineProperty(t,"default",{ds:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.ws||function(t){if(t&&t.t)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.hasOwnProperty.call(t,e)&&n(s,t,e);return i(s,t),s},c=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const h=e(9327),r=c(e(977)),u=c(e(9764)),a=o(e(2164)),l=c(e(9789)),d=c(e(2854)),f=c(e(1839)),w=c(e(1239)),v=c(e(1971)),m=c(e(4446)),_=e(8725),M=c(e(7421)),b=c(e(6111)),p=c(e(6364)),g=e(6353),O=c(e(9878)),j=c(e(6271)),y=c(e(9451)),R=c(e(3530)),x=M.default.It();var C;s.default=class{constructor(t,s,e=new h.C(5e3,5e3)){this.A=[],this.Ht=0,this.vs=new w.default,this._s=new v.default,this.Ms=new m.default,this.F=!0,this.o=!1,this.Qt=()=>{this.Ht+=1};const n=new a.default;this.W=new l.default(new d.default);const i=new a.bs(e);this.A=[n,i],this.J=new u.default,this.bt=e,this.ps=s;const o=new R.default;this.A.push(...t,this.W,this.J,o),this.gs=new b.default,this.Os=new I(s),this.Ht=0}update(t){const s=this.js(t);if(!t.D){if(this.vs.initialize(s),this.vs.step(s),!this.Os.ys){this.gs.step(s),this.ps.step(s);const e=this.Os.Rs(s);this.xs(s,t,e)}this.vs.L(s)}this.Ms.l(s)}init(){}L(){}xs(t,s,e){const n=["Great job!","Awesome!","Nice!","Landed!","Nailed it!"];e!==C.Cs&&(e===C.Is&&(t.A.push(new j.default([n[y.default.ks(0,n.length-1)]])),setTimeout((()=>{s.Pt(this.Ht)}),2e3)),e===C.As&&this.A.push(new k))}Et(){this.L(),this.init()}js(t){const s=this.A.filter(_.M),e=this._s._(s);return new f.default(e,t.Wt,t.D,this.A,x,t.P,this.J,this.bt,this.W,this.Ht,this.Qt,t.pause,t.Ft)}},function(t){t[t.Is=0]="WON",t[t.As=1]="LOST",t[t.Cs=2]="PLAYING"}(C||(C={}));class I{constructor(t){this.ys=!1,this.ps=t}Rs(t){const{W:s}=t;return this.ps.Fs()?(this.ys=!0,C.Is):s.Ls||s.Ts?(this.ys=!0,C.As):C.Cs}}class k extends r.default{l(){const t=new O.default((t=>{t.P.font="45px Arial",t.P.fillStyle="#FFF",p.default.V(t.P,"Press [r] to restart level",new d.default(g.X.w/2,20))}));return t.B="overlay",t}}},3607:function(t,s,e){var n=this&&this.Ps||function(t,s,e,n){return new(e||(e=Promise))((function(i,o){function c(t){try{r(n.next(t))}catch(t){o(t)}}function h(t){try{r(n.Js(t))}catch(t){o(t)}}function r(t){var s;t.done?i(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(c,h)}r((n=n.apply(t,s||[])).next())}))},i=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const o=i(e(6319));!function(){n(this,void 0,void 0,(function*(){const t=new o.default;window.Bs=t,t.init();t.loop((function(){}))()}))}()},6630:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(1866)),o=n(e(8473)),c=n(e(2854)),h=n(e(6256)),r=n(e(6096)),u=n(e(6271)),a=e(7322);s.default=function(){const t=new o.default(new c.default(0,0),3e3,100),s=new o.default(new c.default(400,-480),6500,175);s.color=a.Ns;const e=r.default(new c.default(0,-300),new c.default(100,-600),new c.default(800,-500)),n=[t,s,new u.default(["From now on, your task is to land in the blue planet","remember to rescue as many astronauts as possible"]),...e],l=new i.default(n,new h.default(s));return l.W.position=new c.default(0,-110),l.J._t(l.W),l}},274:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(1866)),o=n(e(8473)),c=n(e(2854)),h=n(e(6256)),r=n(e(6096)),u=e(7322);s.default=function(){const t=new o.default(new c.default(0,100),3e3,100),s=new o.default(new c.default(0,-780),6500,175);s.color=u.Ns;const e=new o.default(new c.default(0,-430),0,5);e.Ss=!0,e.Xs=new c.default(70,0);const n=new o.default(new c.default(0,-1100),0,5);n.Ss=!0,n.Xs=new c.default(70,0);const a=[t,s,e,n,...r.default(new c.default(0,-300),new c.default(100,-600),new c.default(250,-800))],l=new i.default(a,new h.default(s));return l.W.position=new c.default(0,-10),l.J._t(l.W),l}},8152:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(1866)),o=n(e(8473)),c=n(e(2854)),h=n(e(6256)),r=n(e(6096)),u=n(e(5656)),a=e(7322);s.default=function(){const t=new o.default(new c.default(0,100),3e3,100),s=new o.default(new c.default(0,480),2e3,75);s.color=a.Ns;const e=new o.default(new c.default(240,0),10500,45);e.color=new u.default(255,255,255);const n=new o.default(new c.default(-240,0),10500,45);n.color=new u.default(255,255,255),n.zs=!1,e.zs=!1;const l=[t,s,e,n,...r.default(new c.default(0,-200),new c.default(150,600),new c.default(-150,600))],d=new i.default(l,new h.default(s));return d.W.position=new c.default(0,-10),d.J._t(d.W),d}},9010:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(846)),o=n(e(9944)),c=n(e(6630)),h=n(e(274)),r=n(e(8152)),u=n(e(2131));s.default=class{constructor(){this.Es=this.Yt(),this.$s=[i.default,o.default,c.default,h.default,r.default,u.default],this.level=this.$s[this.Es]()}init(){this.Es<this.$s.length&&(this.level=this.$s[this.Es](),this.level.init())}next(){this.Es++,this.init()}Et(){this.init()}Dt(){return this.level}Vt(){return this.$s.length}Yt(){const t=this.Ut(),s=Object.keys(t).map((t=>parseInt(t)));return s.length>0?Math.max(...s)+1:0}Ut(){const t=localStorage.getItem("savedLevels");return t?JSON.parse(t):{}}Jt(t){const s=this.Ut();s[this.Es]=Math.max(s[this.Es]||0,t),localStorage.setItem("savedLevels",JSON.stringify(s))}$t(t){this.Es=t,this.init()}}},6256:(t,s)=>{Object.defineProperty(s,"t",{value:!0});s.default=class{constructor(t){this.Ds=!1,this.target=t}Fs(){return this.Ds}step(t){const{W:s}=t;!s.Ls&&s.Ts&&s.Gs===this.target&&(this.Ds=!0)}}},6096:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(5462));s.default=function(t,s,e){return[new i.default(t),new i.default(s),new i.default(e)]}},7322:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.Ns=void 0;const i=n(e(5656));s.Ns=new i.default(0,0,255)},2131:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(1866)),o=n(e(8473)),c=n(e(2854)),h=n(e(6256)),r=e(9327);s.default=function(){const t=new o.default(new c.default(0,0),53e3,1500),s=[t,new o.default(new c.default(0,-7400),11e3,500)],e=new i.default(s,new h.default(t),new r.C(2e4,2e4));return e.W.position=new c.default(0,-1510),e.J._t(e.W),e}},846:function(t,s,e){var n=this&&this.Ps||function(t,s,e,n){return new(e||(e=Promise))((function(i,o){function c(t){try{r(n.next(t))}catch(t){o(t)}}function h(t){try{r(n.Js(t))}catch(t){o(t)}}function r(t){var s;t.done?i(t.value):(s=t.value,s instanceof e?s:new e((function(t){t(s)}))).then(c,h)}r((n=n.apply(t,s||[])).next())}))},i=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const o=i(e(1866)),c=i(e(8473)),h=i(e(977)),r=i(e(2854)),u=i(e(9878)),a=e(2037),l=i(e(6256)),d=i(e(6271)),f=i(e(6096)),w=e(7322);class v{constructor(t,s){this.Ks=!1,this.mark=t.O.Vs+s,this.Ys=new l.default(t)}step(t){this.Ys.step(t),this.Ks||t.W.position.y<-this.mark&&(this.Ks=!0)}Fs(){return this.Ys.Fs()&&this.Ks}}const m=a.Us(h.default);class _ extends m{constructor(t,s){super(),this.altitude=s,this.position=t}l(){return new u.default((t=>{const{P:s}=t;s.beginPath(),s.setLineDash([5,15]),s.strokeStyle="#BBB",s.moveTo(this.position.x,this.position.y),s.lineTo(this.position.x,this.position.y-this.altitude),s.lineTo(this.position.x+50,this.position.y-this.altitude),s.stroke()}))}}s.default=function(){const t=new c.default(new r.default(0,0),6e3,150);t.color=w.Ns;const s=new _(new r.default(t.position.x-30,t.position.y-t.O.Vs),200),e=f.default(new r.default(0,-230),new r.default(0,-380),new r.default(0,-470)),i=[t,s,new d.default(["Your first mission is to pass the line mark,","and make a safe landing.","Good luck!"]),...e],h=new o.default(i,new v(t,200));return h.W.position=new r.default(0,-160),h.init=()=>n(this,void 0,void 0,(function*(){h.J._t(h.W),h.J.zoom=2.5})),h}},9944:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(1866)),o=n(e(8473)),c=n(e(977)),h=n(e(2854)),r=n(e(9878)),u=e(2037),a=n(e(6256)),l=n(e(6271)),d=n(e(6096)),f=e(7322);class w{constructor(t,s){this.Ws=!1,this.Vs=s,this.Ys=new a.default(t)}step(t){const{W:s}=t;this.Ys.step(t),this.Ws=s.position.y>this.Ys.target.position.y}Fs(){return this.Ys.Fs()&&this.Ws}}const v=u.Us(c.default);class m extends v{constructor(t,s){super(),this.position=t,this.Vs=s}l(){return new r.default((t=>{const{P:s}=t;s.beginPath(),s.setLineDash([5,15]),s.strokeStyle="#CCC",s.beginPath(),s.arc(this.position.x,this.position.y+this.Vs,this.Vs,0,Math.PI),s.stroke()}))}}s.default=function(){const t=new o.default(new h.default(0,0),3e3,140);t.zs=!1,t.color=f.Ns;const s=[t,new m(new h.default(t.position.x,t.position.y-t.O.Vs),t.O.Vs),new l.default(["Lets make it a bit more challenging,","can you land in the opposite side?"]),...d.default(new h.default(-200,30),new h.default(-200,230),new h.default(140,140))],e=new i.default(s,new w(t,t.O.Vs));return e.W.position=new h.default(0,-t.O.Vs-10),e.J._t(e.W),e}},1991:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.qs=s.St=s.Kt=void 0;const i=n(e(2949)),o=e(4939);function c(t,s){const e=document.createElement("button");return e.innerText=t,e.className="menu-item",e.addEventListener("click",s),e}function h(t){const s=document.createElement("div");return s.className="menu-title",s.innerText=t,s}function r(t){const s=document.createElement("div");return s.innerText=t,s.className="control-item",s}s.Kt=function(t,e,n,u,a){const l=document.getElementById("menu-container");let d=0,f=null;function w(t){null!==f&&f.remove(),d=t,f=p[d],l.append(f)}function v(){w(0)}const m=function(t,s){const e=document.createElement("div");e.id="menu";const n=[{label:"Resume game",Hs:t},{label:"Objective",Hs:()=>s(1)},{label:"Controls",Hs:()=>s(2)},{label:"Levels",Hs:()=>s(3)}],i=h("Menu"),o=n.map((t=>c(t.label,t.Hs)));return e.append(i,...o),e}(t,w),_=function(t){const e=document.createElement("div");e.id="menu";const n=h("Objective"),i=c("< Back",t),o=s.qs.map(r),u=[n,...o,i];return e.append(...u),e}(v),M=function(t){const s=document.createElement("div");s.id="menu";const e=h("Controls"),n=["w,a,s,d - movement","'space' - follow rocket","'.' or ',' or mouse wheel - zoom in/out","click & drag to move camera","m - toggle menu","p - toggle pause","r - restart level","x - increase game speed","z - decrease game speed"],i=c("< Back",t),o=n.map(r),u=[e,...o,i];return s.append(...u),s}(v),b=function(t,s,e,n,r){const u=document.createElement("div");u.id="menu";const a=h("Levels"),l=c("< Back",t),d=[];o.Qs(s,(t=>{d.push({name:`Level ${t}`,disabled:e<t,Zs:n[t]||0,Hs:()=>r(t)})}));const f=d.map((t=>function(t){const s=document.createElement("div");s.className="level-item-container";const e=document.createElement("button");e.innerText=t.name,e.disabled=t.disabled,e.className="menu-item level-item",e.addEventListener("click",t.Hs);const n=i.default.te(t.Zs);n.forEach((t=>{t.style.marginLeft="4px"}));const o=document.createElement("span");return o.innerText="Rescued: ",o.className="rescued",s.appendChild(e),s.appendChild(o),s.append(...n),s}(t))),w=[a,...f,l];return u.append(...w),u}(v,e,n,u,(s=>{a(s),t()})),p=[m,_,M,b];w(0);const g=function(){const t=document.createElement("div");return t.id="menu-backdrop",t}();null==l||l.append(g)},s.St=function(){const t=document.getElementById("menu"),s=document.getElementById("menu-backdrop");null==s||s.remove(),null==t||t.remove()},s.qs=["Use your thrusters to rescue,","as many astronauts as you can,","and try to land slowly in the blue planet"]},6137:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.se=void 0;const i=n(e(2854)),o=e(4673);s.se=function(t){return class extends t{ee(t){const s=t.A.filter((t=>o.ne(t)&&t.id!==this.id)),e=new i.default;return s.forEach((t=>{const s=this.ie(t);e.add(s)})),e}ie(t){const s=this.position.oe(t.position);if(s<t.ce){const e=new i.default(t.position.x-this.position.x,t.position.y-this.position.y).normalize();return e.ft(t.he/s),e}return new i.default}}}},8725:(t,s,e)=>{Object.defineProperty(s,"t",{value:!0}),s.M=s.re=void 0;const n=e(9327);s.re=function(){return function(t){return class extends t{constructor(){super(...arguments),this.O=new n.ue,this.nt=[]}get ct(){return void 0!==this.nt&&this.nt.length>0}g(t){this.nt=t||[]}}}},s.M=function(t){return"object"==typeof t&&void 0!==t.O}},4673:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.ne=s.ae=void 0,s.ae=function(t){return class extends t{constructor(){super(...arguments),this.ce=0,this.he=0}}},s.ne=function(t){return"object"==typeof t&&void 0!==t.ce}},9528:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.le=void 0;const i=n(e(2854));s.le=function(t){return class extends t{constructor(){super(...arguments),this.Xs=new i.default,this.acceleration=new i.default,this.angularAcceleration=0,this.angularVelocity=0,this.direction=new i.default,this.de=0}get speed(){return this.Xs.length()}fe(){return this.speed>0}we(t){const s=this.Xs.clone(),e=this.acceleration.clone().ft(t);return s.add(e),s}ve(t){const s=this.position.clone(),e=this.acceleration.clone().ft(Math.pow(t,2)/2),n=this.Xs.clone().ft(t).add(e);return s.add(n),s}me(t){return this.angularVelocity+this.angularAcceleration*t}_e(t){const s=this.direction.clone(),e=this.angularVelocity*t;return s.rotate(e),s}}}},2037:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.Me=s.Us=void 0;const i=n(e(2854));s.Us=function(t){return class extends t{constructor(){super(...arguments),this.position=new i.default}}},s.Me=function(t){return"object"==typeof t&&t.position instanceof i.default}},5462:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9528),o=e(8725),c=e(2037),h=n(e(977)),r=e(9327),u=n(e(9878)),a=n(e(2949)),l=n(e(2854)),d=e(3704),f=n(e(9451)),w=i.le(o.re()(c.Us(h.default)));s.default=class extends w{constructor(t){super(),this.o=!1,this.direction=new l.default(1,0),this.O=new r.C(12,12),this.angularVelocity=f.default.be(f.default.ks(45,220)),this.position=t,this.type=d.ot.pe}step(t){this.angularVelocity=this.me(t.Wt),this.direction=this._e(t.Wt),this.ge(t.Qt)}ge(t){void 0!==this.nt.find((t=>t.type===d.ot.Oe))&&this.je(t)}l(){return new u.default((t=>{a.default.ye(t,this)}))}je(t){this.o=!0,t()}}},2949:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(6364)),o=n(e(2854)),c=e(4939);class h{}h.ye=(t,s)=>{const e=t.P;e.strokeStyle="#FFF",e.translate(s.position.x,s.position.y),e.rotate(s.direction.rt(new o.default(1,0))),e.translate(-s.position.x,-s.position.y);const n=h.Re();e.drawImage(n,s.position.x-s.O.w/2,s.position.y-s.O.$/2,s.O.w,s.O.$)},h.Re=(t="eee000222444888355ccc")=>i.default.xe(t,"@@X[[C@@@@{II_@@@XKRRYC@@XQRJJC@@XWRRzC@@XORRyC@@[KIIY[@XMimmMiCkIIyOII]{YLIIaK_[[LIIa[[@@LiMa@@@XOYKyC@@[O[[y[@XMiCXMiCX[[CX[[C",16),h.te=(t,s=3)=>{const e=[];return c.Qs(s,(s=>{s>=t?e.push(h.Re("ccc666ccccccccccccccc")):e.push(h.Re())})),e},s.default=h},3530:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(4939),o=n(e(977)),c=n(e(9878)),h=n(e(2949));class r extends o.default{l(){const t=new c.default((t=>{const{P:s,Ht:e}=t,n=h.default.Re();i.Qs(e,(t=>{s.drawImage(n,n.width*t+20,20)}))}));return t.B="overlay",t}}s.default=r},977:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9878),o=e(3704),c=n(e(9451));s.default=class{constructor(t=c.default.Ce()){this.type=o.ot.Ie,this.id=t}l(){return new i.ke}step(t){}}},3704:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.ot=void 0,function(t){t[t.Ie=0]="BASE_OBJECT",t[t.it=1]="PLANET",t[t.ht=2]="ASTEROID",t[t.Oe=3]="ROCKET",t[t.pe=4]="ASTRONAUT",t[t.Ae=5]="BUTTON",t[t.Fe=6]="PARTICLE"}(s.ot||(s.ot={}))},6442:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(2854)),o=e(3704),c=e(9528),h=e(2037),r=n(e(977)),u=n(e(9878)),a=n(e(5656)),l=c.le(h.Us(r.default));s.default=class extends l{constructor(t=1){super(),this.o=!1,this.Le=!1,this.position=new i.default,this.type=o.ot.Fe,this.Xs=new i.default(0,0),this.de=0,this.direction=new i.default(0,-1),this.Te=t,this.Pe=t,this.color=new a.default(0,0,0),this.Le=!0,this.size=1}step(t){this.acceleration=this.Je(t),this.position=this.ve(t.Wt),this.Xs=this.we(t.Wt),this.Te-=t.Wt,this.Te<0&&(this.o=!0)}l(){return new u.default((t=>{const s=t.P;if(this.Le){let t=this.Te/this.Pe;this.color.a=t}s.fillStyle=this.color.K(),s.beginPath(),s.arc(this.position.x,this.position.y,this.size,0,2*Math.PI),s.fill()}))}Je(t){return new i.default}}},8473:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9327),o=e(3704),c=n(e(6364)),h=e(9528),r=e(8725),u=e(2037),a=n(e(977)),l=e(4673),d=n(e(9878)),f=n(e(5656)),w=n(e(9451)),v=e(6137).se(l.ae(h.le(r.re()(u.Us(a.default)))));s.default=class extends v{constructor(t,s,e,n=w.default.Be(.3),h=!1){super(),this.zs=!0,this.Ne=t=>{const s=t.P;s.fillStyle=this.color.K(),s.strokeStyle=this.color.K(),this.Ss||(s.save(),s.beginPath(),s.setLineDash([5,15]),s.arc(this.position.x,this.position.y,this.ce,0,2*Math.PI),s.stroke(),s.restore()),c.default.Se(s,this.position,this.O),s.fill(),this.zs&&!this.Ss&&(s.translate(this.position.x,this.position.y),s.rotate(this.rotation),s.translate(-this.position.x,-this.position.y),s.beginPath(),s.strokeStyle=this.Xe.K(),s.lineWidth=6,s.moveTo(this.position.x-this.O.Vs,this.position.y),s.bezierCurveTo(this.position.x-4*this.O.Vs,this.position.y+this.O.Vs/2,this.position.x+4*this.O.Vs,this.position.y+this.O.Vs/2,this.position.x+this.O.Vs,this.position.y),s.stroke(),s.strokeStyle="#8484FF",s.lineWidth=1,s.stroke())},this.position=t,this.he=s,this.type=o.ot.it,this.O=new i.j(e),this.ce=5*e,this.Ss=h,this.zs=n,this.color=f.default.random(255,255,30),this.rotation=w.default.ze(-Math.PI/4,Math.PI/4),this.Xe=f.default.random()}step(t){this.Ss&&(this.acceleration=this.Je(t),this.position=this.ve(t.Wt),this.Xs=this.we(t.Wt))}l(){return new d.default(this.Ne)}Je(t){return this.ee(t)}}},9789:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9327),o=n(e(2854)),c=e(3704),h=n(e(2202)),r=e(9528),u=e(8725),a=e(2037),l=n(e(977)),d=e(6137),f=n(e(9878)),w=e(4363),v=n(e(5656)),m=n(e(2135)),_=d.se(r.le(u.re()(a.Us(l.default))));s.default=class extends _{constructor(t){super("rocket"),this.Ee=!1,this.Ts=!1,this.Ls=!1,this.Gs=null,this.o=!1,this.$e=(t,s,e=!1)=>{const n=e?w.De:w.Ge;if(t.length()>0){const e=n(this.position.clone(),t.clone().normalize());return w.Ke(e,s,this.direction,this.O),e}return null},this.position=t,this.de=549054,this.type=c.ot.Oe,this.O=new i.C(13,16),this.direction=new o.default(0,-1),this.Ve=new h.default(1e3,7607e3),this.Ye=new h.default(300,7607e3)}step(t){this.Ts||(this.angularAcceleration=this.Ue(t),this.angularVelocity=this.me(t.Wt),this.direction=this._e(t.Wt),this.acceleration=this.Je(t),this.position=this.ve(t.Wt),this.Xs=this.we(t.Wt),this.direction=this.We(t))}l(){const t=new f.default(m.default.qe),s=this.Ve.l(),e=this.Ye.l({color:new v.default(255,255,255),offset:new o.default(45,0)}),n=new f.default(m.default.He);if(n.B="overlay",t.children=[e,s,n],!this.Ee){const s=new f.default(m.default.Qe);t.children.push(s)}return t}We(t){const s=this.direction.clone();return this.Ee||(t.qt.hs("a")&&s.rotate(-.5).normalize(),t.qt.hs("d")&&s.rotate(.5).normalize()),s}Ue(t){const s=t.qt.hs;let e=0;if(s("d")&&this.Ee){const s=this.direction.clone().rotate(90).ft(this.Ze()),n=this.$e(s,"top-left");n&&t.A.push(n),e=5*s.length()}if(s("a")&&this.Ee){const s=this.direction.clone().rotate(-90).ft(this.Ze()),n=this.$e(s,"top-right");n&&t.A.push(n),e=-5*s.length()}return e}Je(t){const s=this.tn(t),e=this.Ee?this.ee(t):new o.default;return s.clone().add(e)}et(t){this.o=!0,t.A.push(...w.sn(this.position.clone())),this.Ls=!0}st(t){this.Ts=!0,this.en(),this.Gs=t}en(){this.acceleration=new o.default,this.Xs=new o.default,this.angularVelocity=0,this.angularAcceleration=0}tn(t){let s=new o.default,e=new o.default;const n=t.qt.hs;if(n("w")){this.Ee=!0,s=this.direction.clone().ft(this.nn());const e=this.$e(s,"bottom",!0);e&&t.A.push(e)}if(n("s")){e=this.direction.clone().ft(-this.Ze()/2);const s=this.$e(e,"top");s&&t.A.push(s)}return s.add(e)}Ze(){return this.Ye.nn()>0?30:0}nn(){return this.Ve.nn()>0?40:0}}},4363:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.Ke=s.sn=s.Ge=s.De=void 0;const i=n(e(5656)),o=n(e(6442)),c=n(e(2854)),h=n(e(9451)),r=e(4939);function u(t,s){const e=h.default.Be(.3),n=e?.4:h.default.ze(.7,1.8),c=new o.default(n);c.position=t,c.color=e?new i.default(20,h.default.ks(0,255),255):new i.default(255,h.default.ks(0,255),12),c.Le=!0;const r=h.default.ze(-45,45);return c.Xs=s.clone().ft(-1).rotate(r).ft(h.default.on(10,20)),c.direction=c.Xs.clone().normalize(),c.size=h.default.ze(1,4),c}s.De=u,s.Ge=function(t,s){const e=u(t,s);return e.color=new i.default(255,h.default.ks(200,255),255),e.size=h.default.ze(1,2),e.Xs.ft(2),e},s.sn=function(t){return r.Qs(50,(()=>{const s=h.default.ze(.5,1.3),e=new o.default(s);e.position=t,e.color=new i.default(255,h.default.ks(0,255),12),e.Le=!0;const n=h.default.ze(0,360);return e.Xs=new c.default(1,0).rotate(n).ft(h.default.on(10,20)),e.direction=e.Xs.clone().normalize(),e.size=h.default.ze(1,3),e}))},s.Ke=function(t,s,e,n){let i=new c.default;if("bottom"===s){const t=e.rt(new c.default(1,0));i=new c.default(Math.cos(t),Math.sin(t)).ft(n.$/2)}if(s.includes("top")){const t=e.rt(new c.default(1,0));i=new c.default(Math.cos(t),Math.sin(t)).ft(n.$/2-3).ft(-1)}if("top-right"===s){const t=e.rt(new c.default(0,1)),s=new c.default(Math.cos(t),Math.sin(t)).ft(n.w/2-2);i.add(s)}if("top-left"===s){const t=e.rt(new c.default(0,1)),s=new c.default(Math.cos(t),Math.sin(t)).ft(n.w/2-2).ft(-1);i.add(s)}t.position.sub(i)}},2135:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(2854)),o=n(e(6364)),c=e(6353);class h{static He(t){const{W:s,P:e,P:{canvas:n}}=t;e.font="15px Arial",e.fillStyle="#FFF";const i=`speed: ${s.speed.toFixed(0)}  ,  position: (${s.position.x.toFixed(0)},${s.position.y.toFixed(0)})`,o=e.measureText(i).width;e.fillText(i,c.X.w-(o+20),c.X.$-20)}}h.Qe=t=>{const{P:s,W:e}=t;s.strokeStyle="#FFF",s.save(),s.beginPath(),s.setLineDash([5,15]),s.moveTo(e.position.x,e.position.y);const n=e.direction.clone().ft(1e3).add(e.position);s.lineTo(n.x,n.y),s.stroke(),s.restore(),s.font="7px Arial",s.fillStyle="#FFF",s.fillText(`${(180*e.direction.rt(new i.default(0,-1))/Math.PI).toFixed(2)}º`,e.position.x+10,e.position.y)},h.qe=t=>{const{W:s}=t,e=t.P;e.strokeStyle="#FFF",s.ct&&(e.strokeStyle="#F00"),e.translate(s.position.x,s.position.y),e.rotate(s.direction.rt(new i.default(0,-1))),e.translate(-s.position.x,-s.position.y);const n=o.default.xe("eeeccd34722449c89b568","@@@JI@@@@@PJIA@@@@R|OI@@@@b|I@@@@b|I@@@@b|I@@@@b|I@@@@RJII@@@@RJiI@@@@RJII@@@@RJIy@@@XRJIyF@@[RJIyw@@[RJIyw@@[RJIyw@@[`ddxw@",16);e.translate(-1,-1),e.drawImage(n,s.position.x-s.O.w/2,s.position.y-s.O.$/2)},s.default=h},2202:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(9327),o=n(e(2854)),c=n(e(9878)),h={color:new(n(e(5656)).default)(255,10,20),offset:new o.default};s.default=class{constructor(t,s){this.cn=t,this.hn=s,this.rn=t}l(t){const s=new c.default((s=>{const e=Object.assign(Object.assign({},h),t),n=e.color.K(),{P:c}=s,r=this.cn/this.rn;c.translate(e.offset.x,e.offset.y);const u=.5*c.canvas.height,a=new o.default(25,.25*c.canvas.height),l=new i.C(20,u),d=u*r,f=a.clone().add(new o.default(0,u-d)),w=new i.C(20,d);c.strokeStyle=n,c.fillStyle=n,c.beginPath(),c.rect(a.x,a.y,l.w,l.$),c.stroke(),c.beginPath(),c.rect(f.x,f.y,w.w,w.$),c.fill()}));return s.B="overlay",s}nn(){return this.un()?0:(this.cn-=1,this.hn)}un(){return 0===this.cn}}},9327:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.ue=s.j=s.C=void 0;s.C=class{constructor(t,s){this.w=t,this.$=s}};s.j=class{constructor(t){this.Vs=t}};s.ue=class{}},2164:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.bs=void 0;const i=n(e(2854)),o=n(e(6364)),c=e(2037),h=n(e(9878)),r=n(e(977)),u=e(9327),a=n(e(9451)),l=e(4939),d=n(e(3910)),f=n(e(5656)),w=c.Us(r.default);s.default=class extends w{constructor(){super(),this.id="background"}l(){const t=new h.default((t=>{const{P:s}=t;s.fillStyle="#000",o.default.an(s,new i.default(0,0),new u.C(t.bt.w,t.bt.$)),s.fill()}));return t.B="overlay",t}step(){}};class v extends w{constructor(t){super(),this.ln=a.default.ze(.01,15),this.position=t,this.shape=new u.j(a.default.ze(.5,1.5))}}s.bs=class extends w{constructor(t){super(),this.dn=[],l.Qs(5e4,(()=>{const s=new i.default(a.default.ze(-t.w,t.w),a.default.ze(-t.$,t.$));this.dn.push(new v(s))}))}l(){return new h.default((t=>{const{P:s,J:e}=t,n=new u.C(e.viewport.w/e.zoom,e.viewport.$/e.zoom);s.fillStyle="#FFF";this.dn.filter((t=>d.default.fn(t.position,n,e.position)&&t.ln<e.zoom)).forEach((t=>{const n=t.position.clone();s.fillStyle=new f.default(255,255,255,1-t.ln/e.zoom).K(),s.beginPath(),s.arc(n.x,n.y,t.shape.Vs,0,2*Math.PI),s.fill()}))}))}}},6271:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=e(6353),o=n(e(2854)),c=n(e(9878)),h=n(e(6364)),r=n(e(977));class u extends r.default{constructor(t){super(),this.wn=0,this.o=!1,this.vn=t.map((t=>"object"==typeof t?t:{text:t,duration:4})),this.mn=this.vn[this.wn]}step(t){this.mn.duration<0?(this.wn++,this.wn>this.vn.length-1?this.o=!0:this.mn=this.vn[this.wn]):this.mn.duration-=t.Wt}l(){const t=new c.default((t=>{const{P:s}=t;s.font="35px Arial",s.fillStyle="#FFF",h.default.V(s,this.mn.text,new o.default(i.X.w/2,i.X.$-80))}));return t.B="overlay",t}}s.default=u},2854:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(9451));class o{constructor(t=0,s=0){this.x=t,this.y=s}clone(){return new o(this.x,this.y)}oe(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}_n(t){return this.x*t.x+this.y*t.y}Mn(){return Math.pow(this.x,2)+Math.pow(this.y,2)}length(){return Math.sqrt(this.Mn())}normalize(){const t=this.length();return this.x/=t,this.y/=t,this}ft(t){return this.x*=t,this.y*=t,this}add(t){return this.set(this.x+t.x,this.y+t.y),this}sub(t){return this.set(this.x-t.x,this.y-t.y),this}bn(){this.ft(-1)}set(t,s){return this.x=t,this.y=s,this}rt(t){return Math.atan2(this.y,this.x)-Math.atan2(t.y,t.x)}rotate(t,s=!0){let e=t*(Math.PI/180);s||(e=t);const n=Math.round(1e3*Math.cos(e))/1e3,i=Math.round(1e3*Math.sin(e))/1e3,o=this.clone();return this.x=o.x*n-o.y*i,this.y=o.x*i+o.y*n,this}static random(){const t=new o(1,0);return t.rotate(i.default.ze(0,2*Math.PI)),t}}s.default=o},9878:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0}),s.ke=void 0;const i=n(e(9451));class o{constructor(t){this.B="normal",this.children=[],this.id=i.default.Ce(),this.zIndex=1,this.Ne=t}l(t){this.Ne(t)}}s.default=o;s.ke=class extends o{constructor(){super((()=>{}))}}},6364:(t,s)=>{Object.defineProperty(s,"t",{value:!0});s.default=class{static Se(t,s,e){t.beginPath(),t.arc(s.x,s.y,e.Vs,0,2*Math.PI),t.stroke()}static an(t,s,e){t.beginPath(),t.rect(s.x-e.w/2,s.y-e.$/2,e.w,e.$),t.stroke()}static V(t,s,e){const n=t.measureText(s).width,i=t.measureText("M").width;t.fillText(s,e.x-n/2,e.y+i)}static xe(t,s,e=16){const n=document.createElement("canvas");n.width=e,n.height=e;const i=n.getContext("2d");if(null!==i){const n=[];s.replace(/./g,(t=>{const s=t.charCodeAt(0);return n.push(7&s),n.push(s>>3&7),""}));for(let s=0;s<e;s++)for(let o=0;o<e;o++)n[s*e+o]&&(i.fillStyle="#"+t.substr(3*(n[s*e+o]-1),3),i.fillRect(o,s,1,1))}return n}static pn(){}}},5656:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(9451));class o{constructor(t,s,e,n=1){this.a=1,this.r=t,this.Bs=s,this.b=e,this.a=n}clone(){return new o(this.r,this.Bs,this.b,this.a)}static random(t=255,s=255,e=255,n=255){function c(t){return Array.isArray(t)?i.default.ks(t[0],t[1]):i.default.ks(0,t)}return new o(c(t),c(s),c(e),c(n))}K(){return`rgba(${this.r},${this.Bs},${this.b},${this.a})`}}s.default=o},4939:(t,s)=>{Object.defineProperty(s,"t",{value:!0}),s.T=s.Qs=s.gn=void 0,s.gn=function(){},s.Qs=function(t,s){return[...Array(t)].map(((t,e)=>s(e)))},s.T=function(t,s){let e=0;const n=[];for(let i of t)s(i)?t[e++]=i:n.push(i);return t.splice(e),n}},3910:function(t,s,e){var n=this&&this.m||function(t){return t&&t.t?t:{default:t}};Object.defineProperty(s,"t",{value:!0});const i=n(e(2854));s.default=class{static I(t,s,e,n){const{x:i,y:o}=e,{x:c,y:h}=n,r=s.Vs,u=i-t.w/2,a=i+t.w/2,l=o-t.$/2,d=o+t.$/2;let f=Math.max(u,Math.min(c,a))-c,w=Math.max(l,Math.min(h,d))-h;return f*f+w*w<=r*r}static k(t,s,e,n){const o=new i.default(e.x-t.w/2,e.y+t.$/2),c=new i.default(e.x+t.w/2,e.y-t.$/2),h=new i.default(n.x-s.w/2,n.y+s.$/2),r=new i.default(n.x+s.w/2,n.y-s.$/2);return o.x!=c.x&&o.y!=c.y&&h.x!=r.x&&h.y!=r.y&&(!(o.x>=r.x||h.x>=c.x)&&!(c.y>=h.y||r.y>=o.y))}static R(t,s,e,n){return e.oe(n)<=t.Vs+s.Vs}static fn(t,s,e){const n=e.x-s.w/2,i=e.x+s.w/2,o=e.y-s.$/2,c=e.y+s.$/2;return t.x>n&&t.x<i&&t.y>o&&t.y<c}}},9451:(t,s)=>{Object.defineProperty(s,"t",{value:!0});class e{static on(t,s){return t+Math.random()*s}static ze(t,s){return Math.random()*(s-t)+t}static ks(t,s){return Math.floor(e.ze(t,s+1))}static On(t){let s=t.length-1;return t[e.ks(0,s)]}static Be(t=.5){return Math.random()<t}static Ce(){return Math.round(1e4*Math.random()).toString(16)}static be(t,s=.5){return(Math.random()>s?-1:1)*t}}s.default=e}},s={};(function e(n){var i=s[n];if(void 0!==i)return i.exports;var o=s[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports})(3607)})();